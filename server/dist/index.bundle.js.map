{"version":3,"file":"index.bundle.js","sources":["webpack:///index.bundle.js"],"sourcesContent":["!function(e){function t(t){for(var n,l,s=t[0],o=t[1],i=t[2],m=0,p=[];m<s.length;m++)l=s[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&p.push(r[l][0]),r[l]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);p.length;)p.shift()();return c.push.apply(c,i||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(c.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={0:0},c=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,\"a\",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p=\"\";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=o;c.push([27,1]),a()}({27:function(e,t,a){a(56),e.exports=a(57)},55:function(e,t){window.addEventListener(\"load\",(function(){var e=document.querySelector(\"#navBtn\"),t=document.querySelector(\"#navbar\");e.addEventListener(\"click\",(function(){t.classList.toggle(\"expanded\")}))}))},56:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),s=a(2),o=a(3);function i(e){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=f(e);if(t){var r=f(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d(this,a)}}function d(e,t){return!t||\"object\"!==i(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,a,n,c=p(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={},t}return t=l,(a=[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"home\"},r.a.createElement(\"section\",{className:\"banner\"},r.a.createElement(\"div\",{className:\"foreground\"},r.a.createElement(\"h1\",null,\"NTHU CoursInfo\"),r.a.createElement(\"h3\",null,\"解決你選課時的煩惱\"),r.a.createElement(s.b,{to:\"/courses\",className:\"button\"},\"現在開始\"))),r.a.createElement(\"main\",null,r.a.createElement(\"h2\",null,\"我們的目標\"),r.a.createElement(\"section\",{className:\"goal\"},r.a.createElement(\"div\",null),r.a.createElement(\"p\",null,\"some thing some thing some thing some thing some thing some thing some thing some thing some thingsome thing some thing some thing\")),r.a.createElement(\"section\",{className:\"goal\"},r.a.createElement(\"div\",null),r.a.createElement(\"p\",null,\"some thing some thing some thing some thing some thing some thing some thing some thing some thingsome thing some thing some thing\")),r.a.createElement(\"section\",{className:\"goal\"},r.a.createElement(\"div\",null),r.a.createElement(\"p\",null,\"some thing some thing some thing some thing some thing some thing some thing some thing some thingsome thing some thing some thing\"))))}}])&&u(t.prototype,a),n&&u(t,n),l}(r.a.Component);function E(e){return(E=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function v(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=N(e);if(t){var r=N(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g(this,a)}}function g(e,t){return!t||\"object\"!==E(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,a,n,c=b(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={},t}return t=l,(a=[{key:\"render\",value:function(){var e=this;return r.a.createElement(\"form\",{className:\"searchBox\"},r.a.createElement(\"input\",{type:\"text\",placeholder:\"search for courses...\",value:this.props.text,onChange:function(t){e.props.handleinput(t)}}),r.a.createElement(\"svg\",{className:\"svg-icon searchIcon\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{d:\"M18.125,15.804l-4.038-4.037c0.675-1.079,1.012-2.308,1.01-3.534C15.089,4.62,12.199,1.75,8.584,1.75C4.815,1.75,1.982,4.726,2,8.286c0.021,3.577,2.908,6.549,6.578,6.549c1.241,0,2.417-0.347,3.44-0.985l4.032,4.026c0.167,0.166,0.43,0.166,0.596,0l1.479-1.478C18.292,16.234,18.292,15.968,18.125,15.804 M8.578,13.99c-3.198,0-5.716-2.593-5.733-5.71c-0.017-3.084,2.438-5.686,5.74-5.686c3.197,0,5.625,2.493,5.64,5.624C14.242,11.548,11.621,13.99,8.578,13.99 M16.349,16.981l-3.637-3.635c0.131-0.11,0.721-0.695,0.876-0.884l3.642,3.639L16.349,16.981z\"})))}}])&&v(t.prototype,a),n&&v(t,n),l}(r.a.Component);function _(e){return(_=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function S(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=O(e);if(t){var r=O(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return k(this,a)}}function k(e,t){return!t||\"object\"!==_(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(l,e);var t,a,n,c=x(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={},t}return t=l,(a=[{key:\"componentDidMount\",value:function(){document.querySelectorAll(\"aside table tbody tr\").forEach((function(e){e.addEventListener(\"click\",(function(){this.querySelector(\"svg\").classList.toggle(\"checked\")}))}))}},{key:\"render\",value:function(){var e=this;return r.a.createElement(\"aside\",null,r.a.createElement(\"table\",null,r.a.createElement(\"colgroup\",null,r.a.createElement(\"col\",{className:\"check\"}),r.a.createElement(\"col\",{className:\"secondary\"}),r.a.createElement(\"col\",{className:\"primary\"})),r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null),r.a.createElement(\"th\",null,\"代號\"),r.a.createElement(\"th\",null,\"系所\"))),r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",{onClick:function(){e.props.handleinput(\"CS\")}},r.a.createElement(\"td\",null,r.a.createElement(\"svg\",{className:\"svg-icon checked\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{fill:\"none\",d:\"M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z\"}))),r.a.createElement(\"td\",null,\"CS\"),r.a.createElement(\"td\",null,\"資工系\")),r.a.createElement(\"tr\",{onClick:function(){e.props.handleinput(\"EE\")}},r.a.createElement(\"td\",null,r.a.createElement(\"svg\",{className:\"svg-icon checked\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{fill:\"none\",d:\"M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z\"}))),r.a.createElement(\"td\",null,\"EE\"),r.a.createElement(\"td\",null,\"電機系\")),r.a.createElement(\"tr\",{onClick:function(){e.props.handleinput(\"EECS\")}},r.a.createElement(\"td\",null,r.a.createElement(\"svg\",{className:\"svg-icon checked\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{fill:\"none\",d:\"M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z\"}))),r.a.createElement(\"td\",null,\"EECS\"),r.a.createElement(\"td\",null,\"電資院學士班\")),r.a.createElement(\"tr\",{onClick:function(){e.props.handleinput(\"GE\")}},r.a.createElement(\"td\",null,r.a.createElement(\"svg\",{className:\"svg-icon checked\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{fill:\"none\",d:\"M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z\"}))),r.a.createElement(\"td\",null,\"GE\"),r.a.createElement(\"td\",null,\"通識中心\")),r.a.createElement(\"tr\",{onClick:function(){e.props.handleinput(\"GEC\")}},r.a.createElement(\"td\",null,r.a.createElement(\"svg\",{className:\"svg-icon checked\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{fill:\"none\",d:\"M7.629,14.566c0.125,0.125,0.291,0.188,0.456,0.188c0.164,0,0.329-0.062,0.456-0.188l8.219-8.221c0.252-0.252,0.252-0.659,0-0.911c-0.252-0.252-0.659-0.252-0.911,0l-7.764,7.763L4.152,9.267c-0.252-0.251-0.66-0.251-0.911,0c-0.252,0.252-0.252,0.66,0,0.911L7.629,14.566z\"}))),r.a.createElement(\"td\",null,\"GEC\"),r.a.createElement(\"td\",null,\"通識核心\")))))}}])&&S(t.prototype,a),n&&S(t,n),l}(r.a.Component);function j(e){return(j=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function L(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=A(e);if(t){var r=A(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return R(this,a)}}function R(e,t){return!t||\"object\"!==j(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(l,e);var t,a,n,c=q(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={},t}return t=l,(a=[{key:\"render\",value:function(){return r.a.createElement(\"aside\",{className:\"menu\"},r.a.createElement(\"ul\",null,r.a.createElement(\"li\",null,\"MENU \",r.a.createElement(\"i\",{className:\"fas fa-stream\"})),r.a.createElement(\"li\",null,r.a.createElement(s.b,{to:\"/publish\"},\"發表心得\")),r.a.createElement(\"li\",null,r.a.createElement(\"a\",{href:\"#\"},\"討論區\")),r.a.createElement(\"li\",null,r.a.createElement(\"a\",{href:\"#\"},\"筆記＆考古\")),r.a.createElement(\"li\",null,r.a.createElement(s.b,{to:\"/userhome\"},\"設定\"))))}}])&&L(t.prototype,a),n&&L(t,n),l}(r.a.Component),M=a(11),B=a.n(M);function I(e){return(I=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function T(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=z(e);if(t){var r=z(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return W(this,a)}}function W(e,t){return!t||\"object\"!==I(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(l,e);var t,a,n,c=U(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={redirect:!1,smt:\"\",dep:\"\",subnum:\"\"},t}return t=l,(a=[{key:\"render\",value:function(){var e=this,t=this.props,a=t.courses,n=(t.pages,[]);return a.length&&(n=a.map((function(t){return r.a.createElement(\"tr\",{\"data-href\":\"#\",key:t.course_number,onClick:function(){e.setState({redirect:!0,smt:t.course_number.slice(0,5),dep:t.department,subnum:t.course_subnumber})}},r.a.createElement(\"td\",{className:\"courseNumber\"},t.course_number),r.a.createElement(\"td\",{className:\"courseName\"},t.course_chinese_title),r.a.createElement(\"td\",{className:\"rating\"},t.sweet?t.sweet:\"-\"),r.a.createElement(\"td\",{className:\"rating\"},t.cool?t.cool:\"-\"),r.a.createElement(\"td\",{className:\"rating\"},t.recommend?t.recommend:\"-\"),r.a.createElement(\"td\",{className:\"teacher\"},t.teacher?t.teacher.split(\"\\t\")[0]:\"-\"))}))),this.state.redirect?r.a.createElement(o.a,{to:\"/info/\".concat(this.state.smt,\"-\").concat(this.state.dep,\"-\").concat(this.state.subnum)}):r.a.createElement(\"table\",null,r.a.createElement(\"colgroup\",null,r.a.createElement(\"col\",{className:\"secondary\"}),r.a.createElement(\"col\",{className:\"primary\"}),r.a.createElement(\"col\",{span:\"2\"}),r.a.createElement(\"col\",null),r.a.createElement(\"col\",null)),r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{scope:\"col\"},\"科號\"),r.a.createElement(\"th\",{scope:\"col\"},\"課程名稱\"),r.a.createElement(\"th\",{scope:\"col\"},\"甜度\"),r.a.createElement(\"th\",{scope:\"col\"},\"涼度\"),r.a.createElement(\"th\",{scope:\"col\"},\"推薦\"),r.a.createElement(\"th\",{scope:\"col\"},\"授課教師\"))),r.a.createElement(B.a,{initialLoad:!1,loadMore:this.props.listMoreCourse,hasMore:this.props.hasMore,element:\"tbody\"},n))}}])&&T(t.prototype,a),n&&T(t,n),l}(r.a.Component),X=a(1),H=a.n(X),$=\"https://coursinfonthu.us-east-1.elasticbeanstalk.com\";function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",a=arguments.length>2?arguments[2]:void 0,n=\"\".concat($,\"/api/courses\"),r=[];if(e.length)for(var c=0;c<e.length;c++)r.push(\"department=\".concat(e[c]));else r.push(\"department=AB\");if(t&&r.push(\"text=\".concat(t)),a.length)for(var l=0;l<a.length;l++)r.push(\"start=\".concat(a[l]));return r.length&&(n+=\"?\"+r.join(\"&\")),console.log(\"Making GET & listCourses request to: \".concat(n)),H.a.get(n).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}function K(e,t){var a=\"\".concat($,\"/api/courses/\").concat(e,\"-\").concat(t);return console.log(\"Making GET & getdropdown request to: \".concat(a)),H.a.get(a).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}function Q(e){return(Q=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Y(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===a&&e.constructor&&(a=e.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(e);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Z(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ee(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ce(e);if(t){var r=ce(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ne(this,a)}}function ne(e,t){return!t||\"object\"!==Q(t)&&\"function\"!=typeof t?re(e):t}function re(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(l,e);var t,a,n,c=ae(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={courses:[],department:[\"CS\",\"EE\",\"EECS\",\"GE\",\"GEC\"],text:\"\",start:[],hasMore:!0},t.catchCourses=t.catchCourses.bind(re(t)),t.listMoreCourse=t.listMoreCourse.bind(re(t)),t.inputtext=t.inputtext.bind(re(t)),t.inputdepartment=t.inputdepartment.bind(re(t)),t}return t=l,(a=[{key:\"render\",value:function(){var e=this.state,t=e.courses;return e.department,e.text,e.start,r.a.createElement(\"div\",{className:\"coursesListing\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"courses\"},r.a.createElement(\"main\",null,r.a.createElement(w,{text:this.state.text,handleinput:this.inputtext}),r.a.createElement(\"section\",{className:\"listing\"},r.a.createElement(V,{courses:t,listMoreCourse:this.listMoreCourse,hasMore:this.state.hasMore}))),r.a.createElement(P,{handleinput:this.inputdepartment})),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){this.catchCourses(this.state.department,this.state.text,this.state.start)}},{key:\"componentDidUpdate\",value:function(e,t){this.state.text!=t.text&&this.catchCourses(this.state.department,this.state.text,this.state.start),this.state.department!=t.department&&this.catchCourses(this.state.department,this.state.text,this.state.start)}},{key:\"inputtext\",value:function(e){this.setState({text:e.target.value,start:[]})}},{key:\"inputdepartment\",value:function(e){var t=this.state.department.indexOf(e);if(-1!=t){var a=Y(this.state.department);a.splice(t,1),this.setState({text:\"\",department:a,start:[]})}else{var n=Y(this.state.department);n.push(e),this.setState({text:\"\",department:n,start:[]})}}},{key:\"catchCourses\",value:function(e,t,a){var n=this;J(e,t,a).then((function(e){var t=[];t.push(e[e.length-1].department),t.push(e[e.length-1].course_subnumber),n.setState({courses:e,start:t})})).catch((function(e){console.error(\"Error listing posts\",e),n.setState({courses:[]})}))}},{key:\"listMoreCourse\",value:function(){var e=this;this.state.courses.length<1||(console.log(this.state),J(this.state.department,this.state.text,this.state.start).then((function(t){var a=[];a.push(t[t.length-1].department),a.push(t[t.length-1].course_subnumber),console.log(a),e.setState({start:a,courses:[].concat(Y(e.state.courses),Y(t)),hasMore:t.length>0})})).catch((function(e){console.error(\"Error listing more posts\",e)})))}}])&&ee(t.prototype,a),n&&ee(t,n),l}(r.a.Component);function se(e){return(se=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function oe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=pe(e);if(t){var r=pe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return me(this,a)}}function me(e,t){return!t||\"object\"!==se(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(l,e);var t,a,n,c=ue(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={redirect:!1,id:\"\"},t}return t=l,(a=[{key:\"render\",value:function(){var e=this,t=this.props,a=t.posts,n=(t.pages,[]);return a.length&&(n=a.map((function(t){return r.a.createElement(\"tr\",{\"data-href\":\"#\",key:t.course_number,onClick:function(){e.setState({redirect:!0,id:t.id})}},r.a.createElement(\"td\",{className:\"courseName\"},t.course_chinese_title),r.a.createElement(\"td\",{className:\"teacher\"},t.teacher?t.teacher.split(\"\\t\")[0]:\"-\"),r.a.createElement(\"td\",{className:\"postTitle\"},t.title),r.a.createElement(\"td\",{className:\"rating\"},t.recommend?t.recommend:\"-\"),r.a.createElement(\"td\",{className:\"rating\"},r.a.createElement(\"span\",null,\" \",t.likes,\" \",r.a.createElement(\"i\",{className:\"fas fa-heart\"}),\" \")))}))),this.state.redirect?r.a.createElement(o.a,{to:\"/userpost/\".concat(this.state.id)}):r.a.createElement(\"table\",null,r.a.createElement(\"colgroup\",null,r.a.createElement(\"col\",{className:\"primary\"}),r.a.createElement(\"col\",null),r.a.createElement(\"col\",{className:\"primary\"}),r.a.createElement(\"col\",null),r.a.createElement(\"col\",null)),r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{scope:\"col\"},\"課程名稱\"),r.a.createElement(\"th\",{scope:\"col\"},\"授課教師\"),r.a.createElement(\"th\",{scope:\"col\"},\"心得標題\"),r.a.createElement(\"th\",{scope:\"col\"},\"整體評分\"),r.a.createElement(\"th\",{scope:\"col\"},\"此心得評價\"))),r.a.createElement(B.a,{initialLoad:!1,loadMore:this.props.listMorePost,hasMore:this.props.hasMore,element:\"tbody\"},n))}}])&&oe(t.prototype,a),n&&oe(t,n),l}(r.a.Component),fe=\"https://coursinfonthu.us-east-1.elasticbeanstalk.com\";function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",a=arguments.length>2?arguments[2]:void 0,n=\"\".concat(fe,\"/api/posts\"),r=[];if(e.length)for(var c=0;c<e.length;c++)r.push(\"department=\".concat(e[c]));return t&&r.push(\"text=\".concat(t)),r.length&&(n+=\"?\"+r.join(\"&\")),a&&(n+=\"&start=\".concat(a)),console.log(\"Making GET & listPosts request to: \".concat(n)),H.a.get(n).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}function Ee(e){var t=\"\".concat(fe,\"/api/posts/\").concat(e);return console.log(\"Making GET & selectPost request to: \".concat(t)),H.a.get(t).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}function ve(e){var t=\"\".concat(fe,\"/api/posts\");return console.log(\"Making POST & createPost request to: \".concat(t)),H.a.post(t,e,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}function ye(e,t,a){var n=\"\".concat(fe,\"/api/posts/\").concat(e);return 0==t?n+=\"/like\":1==t?n+=\"/dislike\":2==t&&(n+=\"/cancelVote\"),console.log(\"Making POST & createVote request to: \".concat(n)),H.a.post(n,{userId:a},{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}function be(e){return(be=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ge(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ne(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===a&&e.constructor&&(a=e.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(e);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ne(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function we(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ke(e);if(t){var r=ke(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ce(this,a)}}function Ce(e,t){return!t||\"object\"!==be(t)&&\"function\"!=typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(l,e);var t,a,n,c=Se(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={posts:[],department:[\"CS\",\"EE\",\"EECS\",\"GE\",\"GEC\"],text:\"\",start:[],hasMore:!0},t.catchPosts=t.catchPosts.bind(xe(t)),t.inputdepartment=t.inputdepartment.bind(xe(t)),t.listMorePosts=t.listMorePosts.bind(xe(t)),t.inputtext=t.inputtext.bind(xe(t)),t}return t=l,(a=[{key:\"render\",value:function(){return r.a.createElement(\"div\",{className:\"postsListing\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"posts\"},r.a.createElement(\"main\",null,r.a.createElement(w,{text:this.state.text,handleinput:this.inputtext}),r.a.createElement(\"section\",{className:\"listing\"},r.a.createElement(de,{posts:this.state.posts,listMorePost:this.listMorePosts,hasMore:this.state.hasMore}))),r.a.createElement(P,{handleinput:this.inputdepartment})),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){this.catchPosts(this.state.department,this.state.text,this.state.start)}},{key:\"componentDidUpdate\",value:function(e,t){this.state.text!=t.text&&this.catchPosts(this.state.department,this.state.text,this.state.start),this.state.department!=t.department&&this.catchPosts(this.state.department,this.state.text,this.state.start)}},{key:\"inputtext\",value:function(e){this.setState({text:e.target.value,start:[]})}},{key:\"inputdepartment\",value:function(e){var t=this.state.department.indexOf(e);if(-1!=t){var a=ge(this.state.department);a.splice(t,1),this.setState({text:\"\",department:a,start:[]})}else{var n=ge(this.state.department);n.push(e),this.setState({text:\"\",department:n,start:[]})}}},{key:\"catchPosts\",value:function(e,t,a){var n=this;he(e,t,a).then((function(e){n.setState({posts:e,start:e[e.length-1].id})})).catch((function(e){console.error(\"Error listing posts\",e),n.setState({posts:[]})}))}},{key:\"listMorePosts\",value:function(){var e=this;this.state.posts.length<1||(console.log(this.state),he(this.state.department,this.state.text,this.state.start).then((function(t){e.setState({start:t[t.length-1].id,posts:[].concat(ge(e.state.posts),ge(t)),hasMore:t.length>0})})).catch((function(e){console.error(\"Error listing more posts\",e)})))}}])&&we(t.prototype,a),n&&we(t,n),l}(r.a.Component),Pe=\"https://coursinfonthu.us-east-1.elasticbeanstalk.com\";function je(e,t){var a=\"\".concat(Pe,\"/api/drafts/\").concat(e);return console.log(\"Making DELETE & deletedraft request to: \".concat(a)),console.log(t),H.a.delete(a,{data:t,withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}var Le=\"https://coursinfonthu.us-east-1.elasticbeanstalk.com\";function De(){var e=\"\".concat(Le,\"/api/users/current\");return console.log(\"Making GET & current request to: \".concat(e)),H.a.get(e,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return 401==e.status?[{id:\"\"}]:e.data}))}function qe(e){return(qe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){Ge(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ge(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Me(e,t){var a;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if(\"string\"==typeof e)return Be(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===a&&e.constructor&&(a=e.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(e);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Be(e,t)}(e))||t&&e&&\"number\"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var c,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,c=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw c}}}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ie(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ze(e);if(t){var r=ze(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ue(this,a)}}function Ue(e,t){return!t||\"object\"!==qe(t)&&\"function\"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(l,e);var t,a,n,c=Fe(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={userId:\"\",semester:\"\",department:\"\",courseSubnumber:\"\",title:\"\",courseType:\"\",sweet:0,cool:0,recommend:0,info:\"\",prerequisite:\"\",teachMethod:\"\",assignment:\"\",exam:\"\",evaluation:\"\",textbook:\"\",teacherCharacter:\"\",taPerformance:\"\",mainReview:\"\",personalGrade:\"X\",classGradeDist:[0,0,0,0,0,0,0,0,0,0],others:\"\",dropdownlist:[],redirect:!1,redirectPost:!1,pid:\"\"},t.gradelist=[0,0,0,0,0,0,0,0,0,0],t.dropdownRef=null,t.handleDrowndown=t.handleDrowndown.bind(We(t)),t}return t=l,(a=[{key:\"render\",value:function(){var e=this,t=[],a=this.state.dropdownlist;return a.length&&(t=a.map((function(t){return r.a.createElement(\"button\",{type:\"button\",className:\"option\",key:t.department+t.course_subnumber,onClick:function(){e.dropdownRef.textContent=t.department+\" \"+t.course_subnumber+\" \"+t.course_chinese_title,e.setState({courseSubnumber:t.course_subnumber})}},r.a.createElement(\"span\",{className:\"primary\"},t.department,\" \",t.course_subnumber,\" \",t.course_chinese_title),r.a.createElement(\"span\",{className:\"secondary\"},t.teacher?t.teacher.split(\"\\t\")[0]:\"-\"))}))),this.state.redirectPost?r.a.createElement(o.a,{to:\"/userpost/\".concat(this.state.pid)}):this.state.redirect?r.a.createElement(o.a,{to:\"/posts\"}):r.a.createElement(\"div\",{className:\"publishPage\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"publishContent\"},r.a.createElement(\"form\",{className:\"wrapper articleForm\",spellCheck:\"false\"},r.a.createElement(\"h1\",null,\"發表心得\"),r.a.createElement(\"main\",null,r.a.createElement(\"section\",{className:\"chooseCourse\"},r.a.createElement(\"div\",{className:\"dropdown semesterDrop\"},r.a.createElement(\"button\",{type:\"button\",id:\"semesterDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},\"請選擇學期\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10910\",className:\"option\",onClick:function(){e.setState({semester:\"10910\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"109 上\")),r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10820\",className:\"option\",onClick:function(){e.setState({semester:\"10820\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"108 下\")),r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10810\",className:\"option\",onClick:function(){e.setState({semester:\"10810\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"108 上\")))),r.a.createElement(\"div\",{className:\"dropdown departmentDrop\"},r.a.createElement(\"button\",{type:\"button\",id:\"departmentDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},\"請選擇科系\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"CS\",className:\"option\",onClick:function(){e.setState({department:\"CS\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"CS 資工系\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"EE\",className:\"option\",onClick:function(){e.setState({department:\"EE\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"EE 電機系\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"EECS\",className:\"option\",onClick:function(){e.setState({department:\"EECS\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"EECS 電資院學士班\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"GE\",className:\"option\",onClick:function(){e.setState({department:\"GE\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"GE 通識\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"GEC\",className:\"option\",onClick:function(){e.setState({department:\"GEC\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"GEC 通識核心\")))),r.a.createElement(\"div\",{className:\"dropdown courseDrop\",onClick:this.handleDrowndown},r.a.createElement(\"button\",{type:\"button\",id:\"departmentDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\",ref:function(t){e.dropdownRef=t}},\"請選擇課程\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},t))),r.a.createElement(\"section\",{className:\"titleSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"心得標題\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 25\")),r.a.createElement(\"input\",{type:\"text\",id:\"titleInput\",required:!0,maxLength:\"25\",placeholder:\"至多 25 字\",value:this.state.title,onChange:function(t){var a=t.target.value;e.setState({title:a})}})),r.a.createElement(\"section\",{className:\"infoSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"課程類別\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 20\")),r.a.createElement(\"input\",{type:\"text\",id:\"courseType\",maxLength:\"20\",placeholder:\"某系必修 ／ 選修 ／ 通識領域 ／ 核通向度\",value:this.state.courseType,onChange:function(t){var a=t.target.value;e.setState({courseType:a})}})),r.a.createElement(\"section\",{className:\"ratingSection\"},r.a.createElement(\"div\",{id:\"ratingPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"參考用評分標準\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",null,\"甜度: \",r.a.createElement(\"br\",null),\"在有付出一定努力的條件(願意交所有作業、正常出席、有考試)下，可以拿到的等第\",\" \",r.a.createElement(\"br\",null),\"5星:A+~A(87以上) 4星:A~A-(86~80)\",\" \",r.a.createElement(\"br\",null),\"3星:B+~B(79~73) 2星:B-~C-(72~60)\",\" \",r.a.createElement(\"br\",null),\"1星:不及格 \",r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),\"涼度: \",r.a.createElement(\"br\",null),\"以「作業多寡」、「考試需要準備多久」做為考量\",\" \",r.a.createElement(\"br\",null),\"作業多寡:以整學期作業字數加總為準\",\" \",r.a.createElement(\"br\",null),\"5星:1000字以內 4星:1000-3000\",\" \",r.a.createElement(\"br\",null),\"3星:3000-8000 2星:8000-15000\",\" \",r.a.createElement(\"br\",null),\"1星:大於15000 \",r.a.createElement(\"br\",null),\"考試需要準備多久:(以考到80分上下為例)\",\" \",r.a.createElement(\"br\",null),\"5星:幾乎不須準備，僅需前一晚做考古or看筆記\",\" \",r.a.createElement(\"br\",null),\"4星:須考前一個禮拜做準備，但有固定範圍，或考前教授有複習\",\" \",r.a.createElement(\"br\",null),\"3星:須考前1~2個禮拜做準備，但考試會考平時上課內容，僅看ppt成績不夠好看\",\" \",r.a.createElement(\"br\",null),\"2星:許每個禮拜都做準備，否則來不及\",\" \",r.a.createElement(\"br\",null),\"1星:申論題，且教授心境難以揣摩，字數多也不一定高\",\" \",r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),\"推薦: 5星:完全不後悔修這門課\",\" \",r.a.createElement(\"br\",null),\"4星:若是重來過，還是會修這門課，但有些地方可以表現更好(自我因素)\",\" \",r.a.createElement(\"br\",null),\"3星: \",r.a.createElement(\"br\",null),\"若是重來過，不一定會修這門課，可能是教授給的作業太多，或成績不夠理想\",\" \",r.a.createElement(\"br\",null),\"2星: \",r.a.createElement(\"br\",null),\"若是重來過，不會修這門課，但既然修了就修完吧\",\" \",r.a.createElement(\"br\",null),\"1星: \",r.a.createElement(\"br\",null),\"絕對不修這門課，就算修了也要在二退期間退掉!\",\" \",r.a.createElement(\"br\",null)))),r.a.createElement(\"h2\",null,\"課程評價\",r.a.createElement(\"div\",{className:\"tooltip popup\",\"data-target\":\"#ratingPopup\"},r.a.createElement(\"i\",{className:\"fas fa-question-circle\"}),r.a.createElement(\"div\",{className:\"tooltipBalloon\"},\"參考的評分標準\"))),r.a.createElement(\"div\",{className:\"ratingWrapper\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-candy-cane\"}),\" \",\"甜度\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.sweet,onChange:function(t){var a=t.target.value;e.setState({sweet:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-wind\"}),\" \",\"涼度\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.cool,onChange:function(t){var a=t.target.value;e.setState({cool:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),\" \",\"推薦\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.recommend,onChange:function(t){var a=t.target.value;e.setState({recommend:a})}})))),r.a.createElement(\"section\",{className:\"detailedSection\"},r.a.createElement(\"h2\",null,\"課程內容簡述\"),r.a.createElement(\"div\",{className:\"detailedWrapper\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-info-circle\"}),\" \",\"內容綱要\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"簡單描述課程內容\",value:this.state.info,onChange:function(t){var a=t.target.value;e.setState({info:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-backward\"}),\" \",\"先修課程\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",maxLength:\"200\",placeholder:\"擋修或建議先修的課程\",value:this.state.prerequisite,onChange:function(t){var a=t.target.value;e.setState({prerequisite:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-chalkboard-teacher\"}),\" \",\"上課方式\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"例：PPT ／ 版書 ...\",value:this.state.teachMethod,onChange:function(t){var a=t.target.value;e.setState({teachMethod:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-pencil-ruler\"}),\" \",\"作業 ＆ 報告\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"作業類型、內容 ／ 個人、小組報告 ...\",value:this.state.assignment,onChange:function(t){var a=t.target.value;e.setState({assignment:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-eraser\"}),\" \",\"考試\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"平時小考 ／ 期中末\",value:this.state.exam,onChange:function(t){var a=t.target.value;e.setState({exam:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-calculator\"}),\" \",\"評分方式\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"學期成績計算方式：作業、考試所佔比例\",value:this.state.evaluation,onChange:function(t){var a=t.target.value;e.setState({evaluation:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-book\"}),\" \",\"使用課本\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",maxLength:\"200\",placeholder:\"使用哪本課本、是否一定要買\",value:this.state.textbook,onChange:function(t){var a=t.target.value;e.setState({textbook:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-smile\"}),\" \",\"老師個性、風格\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",value:this.state.teacherCharacter,onChange:function(t){var a=t.target.value;e.setState({teacherCharacter:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-hands-helping\"}),\" \",\"助教表現\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",value:this.state.taPerformance,onChange:function(t){var a=t.target.value;e.setState({taPerformance:a})}})))),r.a.createElement(\"section\",{className:\"reviewSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"個人心得\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 10000\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"10\",maxLength:\"10000\",value:this.state.mainReview,onChange:function(t){var a=t.target.value;e.setState({mainReview:a})},required:!0})),r.a.createElement(\"section\",{className:\"gradeSection\"},r.a.createElement(\"h2\",null,\"修課成績\"),r.a.createElement(\"div\",{className:\"gradeWrapper\"},r.a.createElement(\"div\",{className:\"personal\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-user\"}),\" \",\"個人\"),r.a.createElement(\"div\",{className:\"dropdown\"},r.a.createElement(\"button\",{type:\"button\",id:\"gradeDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},\"請選擇成績\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"X\",className:\"option\",onClick:function(){e.setState({personalGrade:\"X\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"成績未到\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A+\",className:\"option\",onClick:function(){e.setState({personalGrade:\"A+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A\",className:\"option\",onClick:function(){e.setState({personalGrade:\"A\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A-\",className:\"option\",onClick:function(){e.setState({personalGrade:\"A-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B+\",className:\"option\",onClick:function(){e.setState({personalGrade:\"B+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B\",className:\"option\",onClick:function(){e.setState({personalGrade:\"B\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B-\",className:\"option\",onClick:function(){e.setState({personalGrade:\"B-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C+\",className:\"option\",onClick:function(){e.setState({personalGrade:\"C+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C\",className:\"option\",onClick:function(){e.setState({personalGrade:\"C\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C-\",className:\"option\",onClick:function(){e.setState({personalGrade:\"C-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"D\",className:\"option\",onClick:function(){e.setState({personalGrade:\"D\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"D\",String.fromCharCode(8595)))))),r.a.createElement(\"div\",{className:\"total\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-users\"}),\" \",\"全班\"),r.a.createElement(\"div\",{className:\"classGrading\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[0],onChange:function(t){var a=t.target.value;e.gradelist[0]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[1],onChange:function(t){var a=t.target.value;e.gradelist[1]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[2],onChange:function(t){var a=t.target.value;e.gradelist[2]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[3],onChange:function(t){var a=t.target.value;e.gradelist[3]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[4],onChange:function(t){var a=t.target.value;e.gradelist[4]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[5],onChange:function(t){var a=t.target.value;e.gradelist[5]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[6],onChange:function(t){var a=t.target.value;e.gradelist[6]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[7],onChange:function(t){var a=t.target.value;e.gradelist[7]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[8],onChange:function(t){var a=t.target.value;e.gradelist[8]=Number(a),e.setState({classGradeDist:e.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"D\",String.fromCharCode(8595)),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[9],onChange:function(t){var a=t.target.value;e.gradelist[9]=Number(a),e.setState({classGradeDist:e.gradelist})}})))))),r.a.createElement(\"section\",{className:\"otherSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"其他\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 2000\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"6\",maxLength:\"2000\",value:this.state.others,onChange:function(t){var a=t.target.value;e.setState({others:a})}})),r.a.createElement(\"section\",{className:\"submitSection\"},r.a.createElement(\"button\",{type:\"button\",onClick:this.handleCreateDraft.bind(this)},r.a.createElement(\"i\",{className:\"fas fa-save\"}),\" 存成草稿\"),r.a.createElement(\"button\",{type:\"submit\",onClick:this.handleCreatePost.bind(this)},r.a.createElement(\"i\",{className:\"fas fa-paper-plane\"}),\" \",\"發表\"))))),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){var e=this;De().then((function(t){e.setState({userId:t[0].id})}));var t=document.querySelectorAll(\".dropdown\");t.forEach((function(e){e.addEventListener(\"click\",(function(){this.querySelector(\".drpOptions\").classList.toggle(\"active\")}))}));var a,n=Me(t);try{var r=function(){var e=a.value,t=e.querySelector(\".dropdownBtn .chosen\");e.querySelectorAll(\".option\").forEach((function(e){var a=e.querySelector(\".primary\").textContent;e.addEventListener(\"click\",(function(){t.textContent=a}))}))};for(n.s();!(a=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}document.querySelectorAll(\".popup\").forEach((function(e){var t=document.querySelector(e.dataset.target);e.addEventListener(\"click\",(function(){t.classList.add(\"active\")}))})),document.querySelectorAll(\".popupContent\").forEach((function(e){e.querySelector(\".close\").addEventListener(\"click\",(function(){e.classList.remove(\"active\")}))}))}},{key:\"handleCreatePost\",value:function(){var e=this;this.state.userId?ve(Ae({},this.state)).then((function(t){e.setState({redirectPost:!0,pid:t.id})})):alert(\"請先登入\")}},{key:\"handleCreateDraft\",value:function(){var e,t,a=this;this.state.userId?(e=Ae({},this.state),t=\"\".concat(Pe,\"/api/drafts\"),console.log(\"Making POST & createdraft request to: \".concat(t)),H.a.post(t,e,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(){a.setState({redirect:!0})})):alert(\"請先登入\")}},{key:\"handleDrowndown\",value:function(){var e=this;K(this.state.semester,this.state.department).then((function(t){e.setState({dropdownlist:t})}))}}])&&Ie(t.prototype,a),n&&Ie(t,n),l}(r.a.Component);function Xe(e){return(Xe=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function He(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Qe(e);if(t){var r=Qe(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ke(this,a)}}function Ke(e,t){return!t||\"object\"!==Xe(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ye=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(l,e);var t,a,n,c=Je(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={},t}return t=l,(a=[{key:\"render\",value:function(){var e=r.a.createElement(\"svg\",{className:\"svg-icon\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{d:\"M17.684,7.925l-5.131-0.67L10.329,2.57c-0.131-0.275-0.527-0.275-0.658,0L7.447,7.255l-5.131,0.67C2.014,7.964,1.892,8.333,2.113,8.54l3.76,3.568L4.924,17.21c-0.056,0.297,0.261,0.525,0.533,0.379L10,15.109l4.543,2.479c0.273,0.153,0.587-0.089,0.533-0.379l-0.949-5.103l3.76-3.568C18.108,8.333,17.986,7.964,17.684,7.925z\"})),t=r.a.createElement(\"svg\",{className:\"svg-icon\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{d:\"M17.684,7.925l-5.131-0.67L10.329,2.57c-0.131-0.275-0.527-0.275-0.658,0L7.447,7.255l-5.131,0.67C2.014,7.964,1.892,8.333,2.113,8.54l3.76,3.568L4.924,17.21c-0.056,0.297,0.261,0.525,0.533,0.379L10,15.109l4.543,2.479c0.273,0.153,0.587-0.089,0.533-0.379l-0.949-5.103l3.76-3.568C18.108,8.333,17.986,7.964,17.684,7.925 M13.481,11.723c-0.089,0.083-0.129,0.205-0.105,0.324l0.848,4.547l-4.047-2.208c-0.055-0.03-0.116-0.045-0.176-0.045s-0.122,0.015-0.176,0.045l-4.047,2.208l0.847-4.547c0.023-0.119-0.016-0.241-0.105-0.324L3.162,8.54L7.74z\"})),a=r.a.createElement(\"svg\",{className:\"svg-icon\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{d:\"M17.684,7.925l-5.131-0.67L10.329,2.57c-0.131-0.275-0.527-0.275-0.658,0L7.447,7.255l-5.131,0.67C2.014,7.964,1.892,8.333,2.113,8.54l3.76,3.568L4.924,17.21c-0.056,0.297,0.261,0.525,0.533,0.379L10,15.109l4.543,2.479c0.273,0.153,0.587-0.089,0.533-0.379l-0.949-5.103l3.76-3.568C18.108,8.333,17.986,7.964,17.684,7.925 M13.481,11.723c-0.089,0.083-0.129,0.205-0.105,0.324l0.848,4.547l-4.047-2.208c-0.055-0.03-0.116-0.045-0.176-0.045s-0.122,0.015-0.176,0.045l-4.047,2.208l0.847-4.547c0.023-0.119-0.016-0.241-0.105-0.324L3.162,8.54L7.74,7.941c0.124-0.016,0.229-0.093,0.282-0.203L10,3.568l1.978,4.17c0.053,0.11,0.158,0.187,0.282,0.203l4.578,0.598L13.481,11.723z\"}));return r.a.createElement(\"div\",null,this.props.num>=.8?e:this.props.num<.2?a:t,this.props.num>=1.8?e:this.props.num<1.2?a:t,this.props.num>=2.8?e:this.props.num<2.2?a:t,this.props.num>=3.8?e:this.props.num<3.2?a:t,this.props.num>=4.8?e:this.props.num<4.2?a:t)}}])&&He(t.prototype,a),n&&He(t,n),l}(r.a.Component);function Ze(e){return(Ze=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function et(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=rt(e);if(t){var r=rt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return nt(this,a)}}function nt(e,t){return!t||\"object\"!==Ze(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ct=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(l,e);var t,a,n,c=at(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),t=c.call(this,e);var a=e.location.pathname;console.log(e.location.pathname);var n=a.split(\"/\");return n=n[n.length-1].split(\"-\"),t.state={userId:\"\",redirect:!1,information:[],pathname:a,smt:n[0],dep:n[1],subnum:n[2],simplepost:[],course_number:\"\",course_chinese_title:\"\",credit:\"\",classroom:[],time:[],chinese_name:[],sweet:\"\",cool:\"\",recommend:\"\",id:\"\",historyobj:[],user_s:\"\",user_c:\"\",user_r:\"\"},t}return t=l,(a=[{key:\"render\",value:function(){var e=this,t=this.state,a=t.information,n=t.simplepost,c=parseFloat(a.sweet),l=parseFloat(a.cool),i=parseFloat(a.recommend),u=[];n.length&&(u=n.map((function(t){return r.a.createElement(\"article\",{className:\"singlePost\",key:t.id,onClick:function(){e.setState({redirect:!0,id:t.id})}},r.a.createElement(\"h4\",null,t.title),r.a.createElement(\"p\",null,t.main_review.slice(0,40)))})));var m=[];return this.state.historyobj.length&&(m=this.state.historyobj.map((function(t){return r.a.createElement(s.b,{to:\"/info/\".concat(t.semester,\"-\").concat(t.department,\"-\").concat(t.course_subnumber),className:\"historyLink\",onClick:function(){e.setState({smt:t.semester,dep:t.department,subnum:t.course_subnumber},(function(){e.askinfo(),document.querySelector(\"#historyPopup\").classList.remove(\"active\")}))}},r.a.createElement(\"span\",null,t.semester),r.a.createElement(\"span\",null,t.teacher.split(\"\\t\")[0]))}))),this.state.redirect?r.a.createElement(o.a,{to:\"/userpost/\".concat(this.state.id)}):r.a.createElement(\"div\",{className:\"infoPage\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"courseInfo\"},r.a.createElement(\"div\",{className:\"wrapper\"},r.a.createElement(\"div\",{className:\"title\"},r.a.createElement(\"h1\",null,a.course_chinese_title),r.a.createElement(\"h2\",null,this.state.chinese_name.join(\" \"))),r.a.createElement(\"main\",null,r.a.createElement(\"div\",{id:\"historyPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"歷年資料\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",{className:\"historyContent\"},r.a.createElement(\"div\",{className:\"historyGroup\"},m)))),r.a.createElement(\"section\",{className:\"basicInfo\"},r.a.createElement(\"h3\",null,\"基本資訊\"),r.a.createElement(\"button\",{className:\"popup\",\"data-target\":\"#historyPopup\"},r.a.createElement(\"i\",{className:\"fas fa-history\"}),\" \",\"歷年資料\"),r.a.createElement(\"div\",{className:\"infoWrapper\"},r.a.createElement(\"div\",{className:\"item\"},\"科號\"),r.a.createElement(\"div\",{className:\"content\"},a.course_number),r.a.createElement(\"div\",{className:\"item\"},\"開課單位\"),r.a.createElement(\"div\",{className:\"content\"},a.department),r.a.createElement(\"div\",{className:\"item\"},\"學分\"),r.a.createElement(\"div\",{className:\"content\"},a.credit),r.a.createElement(\"div\",{className:\"item\"},\"上課時間\"),r.a.createElement(\"div\",{className:\"content\"},this.state.time.join(\" \")),r.a.createElement(\"div\",{className:\"item\"},\"教室\"),r.a.createElement(\"div\",{className:\"content\"},this.state.classroom.join(\"、\")))),r.a.createElement(\"div\",{id:\"ratingPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"我要評分\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",{className:\"ratingContent\"},r.a.createElement(\"div\",{className:\"inputGroup\"},r.a.createElement(\"span\",null,\"甜度：\"),r.a.createElement(\"input\",{type:\"text\",value:this.state.user_s?this.state.user_s:\"\",onChange:function(t){var a=t.target.value;e.setState({user_s:a})}}),r.a.createElement(\"span\",null,\"涼度：\"),r.a.createElement(\"input\",{type:\"text\",value:this.state.user_c?this.state.user_c:\"\",onChange:function(t){var a=t.target.value;e.setState({user_c:a})}}),r.a.createElement(\"span\",null,\"推薦：\"),r.a.createElement(\"input\",{type:\"text\",value:this.state.user_r?this.state.user_r:\"\",onChange:function(t){var a=t.target.value;e.setState({user_r:a})}})),r.a.createElement(\"div\",{className:\"btnGroup\"},r.a.createElement(\"button\",{type:\"button\",onClick:function(){document.querySelector(\"#ratingPopup\").classList.remove(\"active\")}},r.a.createElement(\"i\",{className:\"fas fa-times\"}),\" \",\"取消\"),r.a.createElement(\"button\",{type:\"button\",onClick:function(){var t,a;(t={semester:e.state.smt,department:e.state.dep,subnumber:e.state.subnum,userId:e.state.userId,sweet:e.state.user_s,cool:e.state.user_c,recommend:e.state.user_r},a=\"\".concat($,\"/api/ratings\"),console.log(\"Making POST & createratings request to: \".concat(a)),H.a.post(a,t,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(){document.querySelector(\"#ratingPopup\").classList.remove(\"active\"),e.askinfo()}))}},r.a.createElement(\"i\",{className:\"fas fa-check\"}),\" \",\"確認\"))))),r.a.createElement(\"section\",{className:\"ratingBlock\"},r.a.createElement(\"h3\",null,\"評分\"),r.a.createElement(\"button\",{className:\"popup\",\"data-target\":\"#ratingPopup\"},r.a.createElement(\"svg\",{className:\"svg-icon\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{d:\"M17.684,7.925l-5.131-0.67L10.329,2.57c-0.131-0.275-0.527-0.275-0.658,0L7.447,7.255l-5.131,0.67C2.014,7.964,1.892,8.333,2.113,8.54l3.76,3.568L4.924,17.21c-0.056,0.297,0.261,0.525,0.533,0.379L10,15.109l4.543,2.479c0.273,0.153,0.587-0.089,0.533-0.379l-0.949-5.103l3.76-3.568C18.108,8.333,17.986,7.964,17.684,7.925z\"})),\" 我要評分\"),r.a.createElement(\"div\",{className:\"item\"},\"甜度\"),r.a.createElement(\"div\",{className:\"content sweet\"},r.a.createElement(Ye,{num:c})),r.a.createElement(\"div\",{className:\"rateScore sweet\"},a.sweet?a.sweet:\"-\"),r.a.createElement(\"div\",{className:\"item\"},\"涼度\"),r.a.createElement(\"div\",{className:\"content cool\"},r.a.createElement(Ye,{num:l})),r.a.createElement(\"div\",{className:\"rateScore cool\"},a.cool?a.cool:\"-\"),r.a.createElement(\"div\",{className:\"item\"},\"推薦\"),r.a.createElement(\"div\",{className:\"content recommend\"},r.a.createElement(Ye,{num:i})),r.a.createElement(\"div\",{className:\"rateScore recommend\"},a.recommend?a.recommend:\"-\")),r.a.createElement(\"section\",{className:\"postsBlock\"},r.a.createElement(\"h3\",null,\"心得\"),r.a.createElement(\"button\",null,r.a.createElement(\"svg\",{className:\"svg-icon\",viewBox:\"0 0 20 20\"},r.a.createElement(\"path\",{d:\"M18.303,4.742l-1.454-1.455c-0.171-0.171-0.475-0.171-0.646,0l-3.061,3.064H2.019c-0.251,0-0.457,0.205-0.457,0.456v9.578c0,0.251,0.206,0.456,0.457,0.456h13.683c0.252,0,0.457-0.205,0.457-0.456V7.533l2.144-2.146C18.481,5.208,18.483,4.917,18.303,4.742 M15.258,15.929H2.476V7.263h9.754L9.695,9.792c-0.057,0.057-0.101,0.13-0.119,0.212L9.18,11.36h-3.98c-0.251,0-0.457,0.205-0.457,0.456c0,0.253,0.205,0.456,0.457,0.456h4.336c0.023,0,0.899,0.02,1.498-0.127c0.312-0.077,0.55-0.137,0.55-0.137c0.08-0.018,0.155-0.059,0.212-0.118l3.463-3.443V15.929z M11.241,11.156l-1.078,0.267l0.267-1.076l6.097-6.091l0.808,0.808L11.241,11.156z\"})),\" \",r.a.createElement(s.b,{to:\"/publish\"},\"我要分享\")),r.a.createElement(\"div\",{className:\"postsWrapper\"},r.a.createElement(\"div\",{className:\"hint\"},\"目前尚無心得\"),u))))),r.a.createElement(G,null)),r.a.createElement(\"footer\",null,\"Copyright © 2020 Skyline. All Rights Reserved.\"))}},{key:\"componentDidMount\",value:function(){var e,t,a,n=this;this.askinfo(),this.asksimplePost(),(e=this.state.dep,t=this.state.subnum,a=\"\".concat($,\"/api/courses/history/\").concat(e,\"-\").concat(t),console.log(\"Making GET & gethistory request to: \".concat(a)),H.a.get(a).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(e){n.setState({historyobj:e})})),De().then((function(e){n.setState({userId:e[0].id},(function(){(function(e,t,a,n){var r=\"\".concat($,\"/api/ratings/\").concat(e,\"/\").concat(t,\"-\").concat(a,\"-\").concat(n);return console.log(\"Making GET & getratings request to: \".concat(r)),H.a.get(r).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))})(n.state.userId,n.state.smt,n.state.dep,n.state.subnum).then((function(e){n.setState({user_s:e[0].sweet,user_c:e[0].cool,user_r:e[0].recommend})}))}))})),document.querySelectorAll(\".popup\").forEach((function(e){var t=document.querySelector(e.dataset.target);e.addEventListener(\"click\",(function(){t.classList.add(\"active\")}))})),document.querySelectorAll(\".popupContent\").forEach((function(e){e.querySelector(\".close\").addEventListener(\"click\",(function(){e.classList.remove(\"active\")}))}))}},{key:\"askinfo\",value:function(){var e,t,a,n,r=this;(e=this.state.smt,t=this.state.dep,a=this.state.subnum,n=\"\".concat($,\"/api/courses/\").concat(e,\"-\").concat(t,\"-\").concat(a),console.log(\"Making GET & selectCourse request to: \".concat(n)),H.a.get(n).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(e){for(var t=e[0].classroom_and_time.split(\"\\n\"),a=e[0].teacher.split(\"\\n\"),n=[],c=[],l=[],s=0;s<t.length;s++){var o=t[s].split(\"\\t\");n.push(o[0]),c.push(o[1])}for(var i=0;i<a.length;i++){var u=a[i].split(\"\\t\");l.push(u[0])}r.setState({information:e[0],classroom:n,time:c,chinese_name:l})}))}},{key:\"asksimplePost\",value:function(){var e,t,a,n=this;(e=this.state.dep,t=this.state.subnum,a=\"\".concat(fe,\"/api/posts/\").concat(e,\"-\").concat(t),console.log(\"Making GET & getsimplePost request to: \".concat(a)),H.a.get(a).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(e){n.setState({simplepost:e})}))}}])&&et(t.prototype,a),n&&et(t,n),l}(r.a.Component);function lt(e){return(lt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function st(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=mt(e);if(t){var r=mt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return ut(this,a)}}function ut(e,t){return!t||\"object\"!==lt(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ct=Object(o.f)(ct);var pt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(l,e);var t,a,n,c=it(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),t=c.call(this,e);var a=e.location.pathname;console.log(e.location.pathname);var n=a.split(\"/\");return t.state={id:n[n.length-1],userId:\"\",information:{},chinese_name:[],upVote:\"\"},t}return t=l,(a=[{key:\"render\",value:function(){var e=this,t=this.state,a=t.information,n=t.chinese_name,c=new Date(a.updated_at);return r.a.createElement(\"div\",{className:\"postPage\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"postArticle\"},r.a.createElement(\"div\",{className:\"wrapper\"},r.a.createElement(\"div\",{className:\"title\"},r.a.createElement(\"div\",null,r.a.createElement(\"h1\",null,a.title),r.a.createElement(\"h2\",null,a.course_chinese_title),r.a.createElement(\"h3\",null,n.join(\" \"))),r.a.createElement(\"div\",{className:\"articleInfo\"},r.a.createElement(\"figure\",{className:\"user\"},r.a.createElement(\"img\",{className:\"profileImg\",src:\"https://www.gravatar.com/avatar/\".concat(a.gravatar_hash,\"?d=identicon&r=g&s=48\"),alt:\"user image\"}),r.a.createElement(\"figcaption\",null,a.nickname,\" •\",\" \",r.a.createElement(\"time\",null,c.toLocaleDateString()))),r.a.createElement(\"div\",{className:\"remark\"},r.a.createElement(\"span\",{className:\"like\",onClick:function(){ye(e.state.id,e.state.upVote?2:0,e.state.userId).then((function(){e.askinfo()}))}},r.a.createElement(\"a\",null,r.a.createElement(\"i\",{className:\"fas fa-heart\"})),r.a.createElement(\"span\",null,a.likes)),r.a.createElement(\"span\",{className:\"dislike\",onClick:function(){ye(e.state.id,e.state.upVote?2:1,e.state.userId).then((function(){e.askinfo()}))}},r.a.createElement(\"a\",null,r.a.createElement(\"i\",{className:\"fas fa-heart-broken\"})),r.a.createElement(\"span\",null,a.dislikes))))),r.a.createElement(\"main\",null,r.a.createElement(\"section\",{className:\"infoSection\"},r.a.createElement(\"h2\",null,\"基本資訊\"),r.a.createElement(\"div\",{className:\"item\"},\"課名\"),r.a.createElement(\"div\",{className:\"content\"},a.course_chinese_title),r.a.createElement(\"div\",{className:\"item\"},\"教授\"),r.a.createElement(\"div\",{className:\"content\"},n.join(\" \")),r.a.createElement(\"div\",{className:\"item\"},\"科號\"),r.a.createElement(\"div\",{className:\"content\"},a.course_subnumber),r.a.createElement(\"div\",{className:\"item\"},\"學分\"),r.a.createElement(\"div\",{className:\"content\"},a.credit),r.a.createElement(\"div\",{className:\"item\"},\"課別\"),r.a.createElement(\"div\",{className:\"content\"},a.course_type),r.a.createElement(\"div\",{className:\"item\"},\"學期\"),r.a.createElement(\"div\",{className:\"content\"},a.semester),r.a.createElement(\"div\",{className:\"item\"},\"甜度\"),r.a.createElement(\"div\",{className:\"content\"},a.sweet,\" \",r.a.createElement(\"i\",{className:\"fas fa-star\"})),r.a.createElement(\"div\",{className:\"item\"},\"涼度\"),r.a.createElement(\"div\",{className:\"content\"},a.cool,\" \",r.a.createElement(\"i\",{className:\"fas fa-star\"})),r.a.createElement(\"div\",{className:\"item\"},\"推薦\"),r.a.createElement(\"div\",{className:\"content\"},a.recommend,\" \",r.a.createElement(\"i\",{className:\"fas fa-star\"}))),r.a.createElement(\"section\",{className:\"detailedSection\"},r.a.createElement(\"h2\",null,\"課程內容簡述\"),r.a.createElement(\"div\",{className:\"detailedWrapper\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-info-circle\"}),\" \",\"內容綱要\"),r.a.createElement(\"div\",null,a.info&&a.info.trim()?a.info:\" - \"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-backward\"}),\" \",\"先修課程\"),r.a.createElement(\"div\",null,a.prerequisite&&a.prerequisite.trim()?a.prerequisite:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-chalkboard-teacher\"}),\" \",\"上課方式\"),r.a.createElement(\"div\",null,a.teach_method&&a.teach_method.trim()?a.teach_method:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-pencil-ruler\"}),\" \",\"作業 ＆ 報告\"),r.a.createElement(\"div\",null,a.assignment&&a.assignment.trim()?a.assignment:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-eraser\"}),\" \",\"考試\"),r.a.createElement(\"div\",null,a.exam&&a.exam.trim()?a.exam:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-calculator\"}),\" \",\"評分方式\"),r.a.createElement(\"div\",null,a.evaluation&&a.evaluation.trim()?a.evaluation:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-book\"}),\" \",\"使用課本\"),r.a.createElement(\"div\",null,a.textbook&&a.textbook.trim()?a.textbook:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-smile\"}),\" \",\"老師個性、風格\"),r.a.createElement(\"div\",null,a.teacher_character&&a.teacher_character.trim()?a.teacher_character:\"-\"),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-hands-helping\"}),\" \",\"助教表現\"),r.a.createElement(\"div\",null,a.ta_performance&&a.ta_performance.trim()?a.ta_performance:\"-\"))),r.a.createElement(\"section\",{className:\"reviewSection\"},r.a.createElement(\"h2\",null,\"個人心得\"),r.a.createElement(\"div\",null,a.main_review&&a.main_review.trim()?a.main_review:\"-\")),r.a.createElement(\"section\",{className:\"gradeSection\"},r.a.createElement(\"h2\",null,\"修課成績\"),r.a.createElement(\"div\",{className:\"gradeWrapper\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-user\"}),\" 個人\"),r.a.createElement(\"div\",null,a.personal_grade),r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-users\"}),\" \",\"全班\"),r.a.createElement(\"div\",{className:\"classGrading\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A+\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[0]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[1]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A-\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[2]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B+\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[3]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[4]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B-\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[5]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C+\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[6]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[7]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C-\"),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[8]:\"-\")),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"D\",String.fromCharCode(8595)),r.a.createElement(\"div\",null,a.class_grade_dist?a.class_grade_dist[9]:\"-\"))))),r.a.createElement(\"section\",{className:\"otherSection\"},r.a.createElement(\"h2\",null,\"其他\"),r.a.createElement(\"div\",null,a.others))))),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){this.askinfo()}},{key:\"askinfo\",value:function(){var e=this;console.log(this.state.id),Ee(this.state.id).then((function(t){for(var a=t[0].teacher.split(\"\\n\"),n=[],r=0;r<a.length;r++){var c=a[r].split(\"\\t\");n.push(c[0])}e.setState({information:t[0],chinese_name:n})})),De().then((function(t){e.setState({userId:t[0].id},(function(){var t,a,n;(t=e.state.userId,a=e.state.id,n=\"\".concat(fe,\"/api/posts/\").concat(a,\"-\").concat(t,\"/vote\"),console.log(\"Making GET & getVote request to: \".concat(n)),H.a.get(n,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(t){e.setState({upVote:t?t.upvote:\"\"})}))}))}))}}])&&st(t.prototype,a),n&&st(t,n),l}(r.a.Component);function dt(e){return(dt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ft(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=yt(e);if(t){var r=yt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return vt(this,a)}}function vt(e,t){return!t||\"object\"!==dt(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}pt=Object(o.f)(pt);var bt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(l,e);var t,a,n,c=Et(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={id:\"\",information:{},draft:[],delete_id:\"\",delete_title:\"\",post:[],delete_post_id:\"\",delete_post_title:\"\",newname:\"\",redirectPost:!1,redPostId:\"\",redirectDraft:!1,redDraftId:\"\"},t}return t=l,(a=[{key:\"render\",value:function(){var e=this;if(this.state.redirectPost)return r.a.createElement(o.a,{to:\"/userpost/\".concat(this.state.redPostId)});if(this.state.redirectDraft)return r.a.createElement(o.a,{to:\"/userdraft/\".concat(this.state.redDraftId)});var t=[],a=[],n=this.state,c=n.draft,l=n.post,s=n.information;return c.length&&(t=c.map((function(t){var a=new Date(t.updated_at);return[r.a.createElement(\"div\",{className:\"draftRow\",\"data-target\":\"#\",key:t.title,onClick:function(){e.setState({redirectDraft:!0,redDraftId:t.id})}},r.a.createElement(\"span\",null,t.title),r.a.createElement(\"span\",null,t.course_chinese_title),r.a.createElement(\"time\",null,a.toLocaleDateString())),r.a.createElement(\"span\",{key:t.id,className:\"delete popup\",\"data-target\":\"#draftPopup\",onClick:function(){document.querySelector(\"#draftPopup\").classList.add(\"active\"),e.setState({delete_title:t.title,delete_id:t.id})}},r.a.createElement(\"i\",{className:\"fas fa-trash-alt\"}))]}))),l.length&&(a=l.map((function(t){var a=new Date(t.updated_at);return[r.a.createElement(\"div\",{className:\"postRow\",\"data-target\":\"#\",key:t.title,onClick:function(){e.setState({redirectPost:!0,redPostId:t.id})}},r.a.createElement(\"span\",null,t.title),r.a.createElement(\"span\",null,t.course_chinese_title),r.a.createElement(\"time\",null,a.toLocaleDateString()),r.a.createElement(\"span\",null,t.likes,\" \",r.a.createElement(\"i\",{className:\"fas fa-heart\"}))),r.a.createElement(\"span\",{key:t.id,className:\"delete popup\",\"data-target\":\"#postPopup\",onClick:function(){document.querySelector(\"#postPopup\").classList.add(\"active\"),e.setState({delete_post_title:t.title,delete_post_id:t.id})}},r.a.createElement(\"i\",{className:\"fas fa-trash-alt\"}))]}))),r.a.createElement(\"div\",{className:\"userPage\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"accountInfo\"},r.a.createElement(\"div\",{className:\"wrapper\"},r.a.createElement(\"h1\",{onClick:function(){console.log(\"asdfasdf\")}},\"Hi，\",r.a.createElement(\"span\",null,s.nickname)),r.a.createElement(\"main\",null,r.a.createElement(\"h2\",null,\"基本資料\"),r.a.createElement(\"div\",{className:\"imgWrapper\"},r.a.createElement(\"figure\",null,r.a.createElement(\"img\",{src:\"https://www.gravatar.com/avatar/\".concat(s.gravatar_hash,\"?d=identicon&r=g&s=256\"),style:{backgroundImage:\"url(\\n                                                    https://www.gravatar.com/avatar/\".concat(s.gravatar_hash,\"?d=identicon&r=g&s=275\")},alt:\"userImage\"}),r.a.createElement(\"figcaption\",null,r.a.createElement(\"a\",{href:\"https://en.gravatar.com/\"},r.a.createElement(\"i\",{className:\"fas fa-image\"}),\" \",\"到 Gravatar 上更改頭貼\")))),r.a.createElement(\"div\",{id:\"namePopup\",className:\"popupContent\",onClick:function(e){e.target.classList.remove(\"active\")}},r.a.createElement(\"div\",{className:\"popupWindow\",onClick:function(e){e.stopPropagation()}},r.a.createElement(\"h3\",null,\"更改暱稱\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",{className:\"editContent\"},r.a.createElement(\"span\",null,\"輸入新暱稱：\"),r.a.createElement(\"input\",{type:\"text\",value:this.state.newname,onChange:function(t){var a=t.target.value;e.setState({newname:a})}}),r.a.createElement(\"div\",{className:\"btnGroup\"},r.a.createElement(\"button\",{type:\"button\",onClick:function(){console.log(\"asdasd\"),document.querySelector(\"#namePopup\").classList.remove(\"active\"),e.setState({newname:\"\"})}},r.a.createElement(\"i\",{className:\"fas fa-times\"}),\" \",\"取消\"),r.a.createElement(\"button\",{type:\"button\",onClick:function(){var t,a;console.log(\"asdasd\"),(t={userId:s.id,nickname:e.state.newname},a=\"\".concat(Le,\"/api/users/nickname\"),console.log(\"Making POST & changeName request to: \".concat(a)),H.a.post(a,t,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(t){e.setState({information:t[0]})})).then((function(){document.querySelector(\"#namePopup\").classList.remove(\"active\")}))}},r.a.createElement(\"i\",{className:\"fas fa-check\"}),\" \",\"確認\"))))),r.a.createElement(\"div\",{className:\"info\"},r.a.createElement(\"h3\",null,\"Email\"),r.a.createElement(\"span\",null,s.email),r.a.createElement(\"h3\",null,\"暱稱\"),r.a.createElement(\"span\",null,r.a.createElement(\"span\",{className:\"nickname\"},s.nickname,r.a.createElement(\"button\",{className:\"editName popup tooltip\",\"data-target\":\"#namePopup\"},r.a.createElement(\"i\",{className:\"fas fa-pen-alt\"}),r.a.createElement(\"span\",{className:\"tooltipBalloon\"},\"更改暱稱\")))),r.a.createElement(\"h3\",null,\"積分\"),r.a.createElement(\"span\",null,s.points),r.a.createElement(\"h3\",null,\"角色\"),r.a.createElement(\"span\",null,\"一般會員\"),r.a.createElement(\"h3\",null,\"每日發文上限\"),r.a.createElement(\"span\",null,r.a.createElement(\"span\",{className:\"publishLimit\"},s.daily_publish_count),\" \",\"/ 5\"),r.a.createElement(\"h3\",null,\"草稿數量\"),r.a.createElement(\"span\",null,r.a.createElement(\"span\",{className:\"draftLimit\"},s.draft_count),\" \",\"/ 5\")),r.a.createElement(\"div\",{id:\"draftPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"刪除草稿\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",{className:\"deleteContent\"},r.a.createElement(\"span\",null,\"請問確認要刪除草稿 「\",r.a.createElement(\"span\",null,this.state.delete_title),\"」 嗎？\"),r.a.createElement(\"div\",{className:\"btnGroup\"},r.a.createElement(\"button\",{type:\"button\",onClick:function(){document.querySelector(\"#draftPopup\").classList.remove(\"active\")}},r.a.createElement(\"i\",{className:\"fas fa-times\"}),\" \",\"取消\"),r.a.createElement(\"button\",{type:\"button\",onClick:function(){je(e.state.delete_id,{userId:e.state.id}).then((function(){e.askid(),document.querySelector(\"#draftPopup\").classList.remove(\"active\")}))}},r.a.createElement(\"i\",{className:\"fas fa-check\"}),\" \",\"確認\"))))),r.a.createElement(\"div\",{className:\"savedDrafts\"},r.a.createElement(\"h2\",null,\"我的草稿\"),r.a.createElement(\"div\",{className:\"draftList\"},r.a.createElement(\"div\",{\"data-target\":\"#\"},r.a.createElement(\"span\",null,\"標題\"),r.a.createElement(\"span\",null,\"課程\"),r.a.createElement(\"time\",null,\"上次修改時間\"),r.a.createElement(\"span\",null,\"刪除\")),t)),r.a.createElement(\"div\",{id:\"postPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"刪除心得\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",{className:\"deleteContent\"},r.a.createElement(\"span\",null,\"請問確認要刪除心得 「\",r.a.createElement(\"span\",null,this.state.delete_post_title),\"」 嗎？\"),r.a.createElement(\"div\",{className:\"btnGroup\"},r.a.createElement(\"button\",{type:\"button\",onClick:function(){document.querySelector(\"#postPopup\").classList.remove(\"active\")}},r.a.createElement(\"i\",{className:\"fas fa-times\"}),\" \",\"取消\"),r.a.createElement(\"button\",{type:\"button\",onClick:function(){var t,a,n;(t=e.state.delete_post_id,a={userId:e.state.id},n=\"\".concat(fe,\"/api/posts/\").concat(t),console.log(\"Making DELETE & deletePost request to: \".concat(n)),H.a.delete(n,{data:a,withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(){e.askid(),document.querySelector(\"#postPopup\").classList.remove(\"active\")}))}},r.a.createElement(\"i\",{className:\"fas fa-check\"}),\" \",\"確認\"))))),r.a.createElement(\"div\",{className:\"myPosts\"},r.a.createElement(\"h2\",null,\"我的文章\"),r.a.createElement(\"div\",{className:\"postsList\"},r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"標題\"),r.a.createElement(\"span\",null,\"課程\"),r.a.createElement(\"time\",null,\"上次修改時間\"),r.a.createElement(\"span\",null,\"評價\"),r.a.createElement(\"span\",null,\"刪除\")),a))))),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){this.askid(),document.querySelectorAll(\".popup\").forEach((function(e){var t=document.querySelector(e.dataset.target);e.addEventListener(\"click\",(function(){t.classList.add(\"active\")}))})),document.querySelectorAll(\".popupContent\").forEach((function(e){e.querySelector(\".close\").addEventListener(\"click\",(function(){e.classList.remove(\"active\")}))}))}},{key:\"componentDidUpdate\",value:function(e,t){this.state.newname,t.newname}},{key:\"askid\",value:function(){var e=this;De().then((function(t){e.setState({id:t[0].id},(function(){var t,a;(t=e.state.id,a=\"\".concat(Le,\"/api/users/\").concat(t),console.log(\"Making GET & selectUser request to: \".concat(a)),H.a.get(a,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(t){e.setState({information:t[0]})})),function(e){var t=\"\".concat(Pe,\"/api/drafts/user/\").concat(e);return console.log(\"Making GET & listdraft request to: \".concat(t)),H.a.get(t,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}(e.state.id).then((function(t){e.setState({draft:t})})),function(e){var t=\"\".concat(fe,\"/api/posts/users/\").concat(e);return console.log(\"Making GET & selectPost request to: \".concat(t)),H.a.get(t).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))}(e.state.id).then((function(t){e.setState({post:t})}))}))}))}}])&&ft(t.prototype,a),n&&ft(t,n),l}(r.a.Component);function gt(e){return(gt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(a),!0).forEach((function(t){_t(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function St(e){return function(e){if(Array.isArray(e))return xt(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ct(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ct(e,t){if(e){if(\"string\"==typeof e)return xt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===a&&e.constructor&&(a=e.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(e):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?xt(e,t):void 0}}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function kt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Dt(e);if(t){var r=Dt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return jt(this,a)}}function jt(e,t){return!t||\"object\"!==gt(t)&&\"function\"!=typeof t?Lt(e):t}function Lt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(l,e);var t,a,n,c=Pt(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),t=c.call(this,e);var a=e.location.pathname;console.log(e.location.pathname);var n=a.split(\"/\");return t.state={draftId:n[n.length-1],userId:\"\",semester:\"\",department:\"\",course_subnumber:\"\",title:\"\",course_type:\"\",sweet:\"\",cool:\"\",recommend:\"\",info:\"\",prerequisite:\"\",teach_method:\"\",assignment:\"\",exam:\"\",evaluation:\"\",textbook:\"\",teacher_character:\"\",ta_performance:\"\",main_review:\"\",personal_grade:\"\",class_grade_dist:[0,0,0,0,0,0,0,0,0,0],others:\"\",dropdownlist:[],redirect_to_user:!1,redirect_to_post:!1,postId:\"\"},t.gradelist=[0,0,0,0,0,0,0,0,0,0],t.dropdownRef=null,t.handleDrowndown=t.handleDrowndown.bind(Lt(t)),t}return t=l,(a=[{key:\"render\",value:function(){var e,t,a=this,n=[],c=this.state.dropdownlist;return c.length&&(n=c.map((function(e){return r.a.createElement(\"button\",{type:\"button\",className:\"option\",key:e.department+e.course_subnumber,onClick:function(){a.dropdownRef.textContent=e.department+\" \"+e.course_subnumber+\" \"+e.course_chinese_title,a.setState({courseSubnumber:e.course_subnumber})}},r.a.createElement(\"span\",{className:\"primary\"},e.department,\" \",e.course_subnumber,\" \",e.course_chinese_title),r.a.createElement(\"span\",{className:\"secondary\"},e.teacher?e.teacher.split(\"\\t\")[0]:\"-\"))}))),this.state.redirect_to_user?r.a.createElement(o.a,{to:\"/userhome\"}):this.state.redirect_to_post?r.a.createElement(o.a,{to:\"/userpost/\".concat(this.state.postId)}):r.a.createElement(\"div\",{className:\"draftPage\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"publishContent\"},r.a.createElement(\"form\",{className:\"wrapper articleForm\",spellCheck:\"false\"},r.a.createElement(\"h1\",null,\"編輯草稿\"),r.a.createElement(\"main\",null,r.a.createElement(\"section\",{className:\"chooseCourse\"},r.a.createElement(\"div\",{className:\"dropdown semesterDrop\"},r.a.createElement(\"button\",{type:\"button\",id:\"semesterDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},this.state.semester?this.state.semester:\"請選擇學期\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10910\",className:\"option\",onClick:function(){a.setState({semester:\"10910\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"109 上\")),r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10820\",className:\"option\",onClick:function(){a.setState({semester:\"10820\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"108 下\")),r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10810\",className:\"option\",onClick:function(){a.setState({semester:\"10810\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"108 上\")))),r.a.createElement(\"div\",{className:\"dropdown departmentDrop\"},r.a.createElement(\"button\",{type:\"button\",id:\"departmentDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},this.state.department?this.state.department:\"請選擇科系\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"CS\",className:\"option\",onClick:function(){a.setState({department:\"CS\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"CS 資工系\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"EE\",className:\"option\",onClick:function(){a.setState({department:\"EE\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"EE 電機系\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"EECS\",className:\"option\",onClick:function(){a.setState({department:\"EECS\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"EECS 電資院學士班\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"GE\",className:\"option\",onClick:function(){a.setState({department:\"GE\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"GE 通識\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"GEC\",className:\"option\",onClick:function(){a.setState({department:\"GEC\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"GEC 通識核心\")))),r.a.createElement(\"div\",{className:\"dropdown courseDrop\",onClick:this.handleDrowndown},r.a.createElement(\"button\",{type:\"button\",id:\"departmentDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\",ref:function(e){a.dropdownRef=e}},this.state.course_chinese_title?this.state.department+\" \"+this.state.course_subnumber+\" \"+this.state.course_chinese_title:\"請選擇課程\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},n))),r.a.createElement(\"section\",{className:\"titleSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"心得標題\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 25\")),r.a.createElement(\"input\",{type:\"text\",id:\"titleInput\",required:!0,maxLength:\"25\",placeholder:\"至多 25 字\",value:this.state.title,onChange:function(e){var t=e.target.value;a.setState({title:t})}})),r.a.createElement(\"section\",{className:\"infoSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"課程類別\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 20\")),r.a.createElement(\"input\",{type:\"text\",id:\"courseType\",maxLength:\"20\",placeholder:\"某系必修 ／ 選修 ／ 通識領域 ／ 核通向度\",value:this.state.course_type,onChange:function(e){var t=e.target.value;a.setState({course_type:t})}})),r.a.createElement(\"section\",{className:\"ratingSection\"},r.a.createElement(\"div\",{id:\"ratingPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"參考用評分標準\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",null,\"甜度: \",r.a.createElement(\"br\",null),\"在有付出一定努力的條件(願意交所有作業、正常出席、有考試)下，可以拿到的等第\",\" \",r.a.createElement(\"br\",null),\"5星:A+~A(87以上) 4星:A~A-(86~80)\",\" \",r.a.createElement(\"br\",null),\"3星:B+~B(79~73) 2星:B-~C-(72~60)\",\" \",r.a.createElement(\"br\",null),\"1星:不及格 \",r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),\"涼度: \",r.a.createElement(\"br\",null),\"以「作業多寡」、「考試需要準備多久」做為考量\",\" \",r.a.createElement(\"br\",null),\"作業多寡:以整學期作業字數加總為準\",\" \",r.a.createElement(\"br\",null),\"5星:1000字以內 4星:1000-3000\",\" \",r.a.createElement(\"br\",null),\"3星:3000-8000 2星:8000-15000\",\" \",r.a.createElement(\"br\",null),\"1星:大於15000 \",r.a.createElement(\"br\",null),\"考試需要準備多久:(以考到80分上下為例)\",\" \",r.a.createElement(\"br\",null),\"5星:幾乎不須準備，僅需前一晚做考古or看筆記\",\" \",r.a.createElement(\"br\",null),\"4星:須考前一個禮拜做準備，但有固定範圍，或考前教授有複習\",\" \",r.a.createElement(\"br\",null),\"3星:須考前1~2個禮拜做準備，但考試會考平時上課內容，僅看ppt成績不夠好看\",\" \",r.a.createElement(\"br\",null),\"2星:許每個禮拜都做準備，否則來不及\",\" \",r.a.createElement(\"br\",null),\"1星:申論題，且教授心境難以揣摩，字數多也不一定高\",\" \",r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),\"推薦: 5星:完全不後悔修這門課\",\" \",r.a.createElement(\"br\",null),\"4星:若是重來過，還是會修這門課，但有些地方可以表現更好(自我因素)\",\" \",r.a.createElement(\"br\",null),\"3星: \",r.a.createElement(\"br\",null),\"若是重來過，不一定會修這門課，可能是教授給的作業太多，或成績不夠理想\",\" \",r.a.createElement(\"br\",null),\"2星: \",r.a.createElement(\"br\",null),\"若是重來過，不會修這門課，但既然修了就修完吧\",\" \",r.a.createElement(\"br\",null),\"1星: \",r.a.createElement(\"br\",null),\"絕對不修這門課，就算修了也要在二退期間退掉!\",\" \",r.a.createElement(\"br\",null)))),r.a.createElement(\"h2\",null,\"課程評價\",r.a.createElement(\"div\",{className:\"tooltip popup\",\"data-target\":\"#ratingPopup\"},r.a.createElement(\"i\",{className:\"fas fa-question-circle\"}),r.a.createElement(\"div\",{className:\"tooltipBalloon\"},\"參考的評分標準\"))),r.a.createElement(\"div\",{className:\"ratingWrapper\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-candy-cane\"}),\" \",\"甜度\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.sweet,onChange:function(e){var t=e.target.value;a.setState({sweet:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-wind\"}),\" \",\"涼度\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.cool,onChange:function(e){var t=e.target.value;a.setState({cool:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),\" \",\"推薦\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.recommend,onChange:function(e){var t=e.target.value;a.setState({recommend:t})}})))),r.a.createElement(\"section\",{className:\"detailedSection\"},r.a.createElement(\"h2\",null,\"課程內容簡述\"),r.a.createElement(\"div\",{className:\"detailedWrapper\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-info-circle\"}),\" \",\"內容綱要\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"簡單描述課程內容\",value:this.state.info,onChange:function(e){var t=e.target.value;a.setState({info:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-backward\"}),\" \",\"先修課程\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",maxLength:\"200\",placeholder:\"擋修或建議先修的課程\",value:this.state.prerequisite,onChange:function(e){var t=e.target.value;a.setState({prerequisite:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-chalkboard-teacher\"}),\" \",\"上課方式\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"例：PPT ／ 版書 ...\",value:this.state.teach_method,onChange:function(e){var t=e.target.value;a.setState({teach_method:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-pencil-ruler\"}),\" \",\"作業 ＆ 報告\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"作業類型、內容 ／ 個人、小組報告 ...\",value:this.state.assignment,onChange:function(e){var t=e.target.value;a.setState({assignment:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-eraser\"}),\" \",\"考試\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"平時小考 ／ 期中末\",value:this.state.exam,onChange:function(e){var t=e.target.value;a.setState({exam:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-calculator\"}),\" \",\"評分方式\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"學期成績計算方式：作業、考試所佔比例\",value:this.state.evaluation,onChange:function(e){var t=e.target.value;a.setState({evaluation:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-book\"}),\" \",\"使用課本\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",maxLength:\"200\",placeholder:\"使用哪本課本、是否一定要買\",value:this.state.textbook,onChange:function(e){var t=e.target.value;a.setState({textbook:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-smile\"}),\" \",\"老師個性、風格\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",value:this.state.teacher_character,onChange:function(e){var t=e.target.value;a.setState({teacher_character:t})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-hands-helping\"}),\" \",\"助教表現\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",value:this.state.ta_performance,onChange:function(e){var t=e.target.value;a.setState({ta_performance:t})}})))),r.a.createElement(\"section\",{className:\"reviewSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"個人心得\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 10000\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"10\",maxLength:\"10000\",value:this.state.main_review,onChange:function(e){var t=e.target.value;a.setState({main_review:t})},required:!0})),r.a.createElement(\"section\",{className:\"gradeSection\"},r.a.createElement(\"h2\",null,\"修課成績\"),r.a.createElement(\"div\",{className:\"gradeWrapper\"},r.a.createElement(\"div\",{className:\"personal\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-user\"}),\" \",\"個人\"),r.a.createElement(\"div\",{className:\"dropdown\"},r.a.createElement(\"button\",{type:\"button\",id:\"gradeDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},this.state.personal_grade?this.state.personal_grade:\"請選擇成績\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"X\",className:\"option\",onClick:function(){a.setState({personal_grade:\"X\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"成績未到\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A+\",className:\"option\",onClick:function(){a.setState({personal_grade:\"A+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A\",className:\"option\",onClick:function(){a.setState({personal_grade:\"A\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A-\",className:\"option\",onClick:function(){a.setState({personal_grade:\"A-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B+\",className:\"option\",onClick:function(){a.setState({personal_grade:\"B+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B\",className:\"option\",onClick:function(){a.setState({personal_grade:\"B\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B-\",className:\"option\",onClick:function(){a.setState({personal_grade:\"B-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C+\",className:\"option\",onClick:function(){a.setState({personal_grade:\"C+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C\",className:\"option\",onClick:function(){a.setState({personal_grade:\"C\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C-\",className:\"option\",onClick:function(){a.setState({personal_grade:\"C-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"D\",className:\"option\",onClick:function(){a.setState({personal_grade:\"D\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"D\",String.fromCharCode(8595)))))),r.a.createElement(\"div\",{className:\"total\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-users\"}),\" \",\"全班\"),r.a.createElement(\"div\",{className:\"classGrading\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[0],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[0]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[1],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[1]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[2],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[2]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[3],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[3]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[4],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[4]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[5],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[5]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[6],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[6]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[7],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[7]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[8],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[8]=Number(t),a.setState({class_grade_dist:n})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"D\",String.fromCharCode(8595)),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.state.class_grade_dist[9],onChange:function(e){var t=e.target.value,n=St(a.state.class_grade_dist);n[9]=Number(t),a.setState({class_grade_dist:n})}})))))),r.a.createElement(\"section\",{className:\"otherSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"其他\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 2000\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"6\",maxLength:\"2000\",value:this.state.others,onChange:function(e){var t=e.target.value;a.setState({others:t})}})),r.a.createElement(\"section\",{className:\"submitSection\"},r.a.createElement(\"button\",(_t(e={type:\"button\"},\"type\",\"button\"),_t(e,\"onClick\",(function(){a.setState({redirect_to_user:!0})})),e),r.a.createElement(\"i\",{className:\"fas fa-undo-alt\"}),\" \",\"放棄變更\"),r.a.createElement(\"button\",(_t(t={type:\"button\"},\"type\",\"button\"),_t(t,\"onClick\",this.handleEditDraft.bind(this)),t),r.a.createElement(\"i\",{className:\"fas fa-save\"}),\" 儲存變更\"),r.a.createElement(\"button\",{type:\"submit\",onClick:this.handleCreatePost.bind(this)},r.a.createElement(\"i\",{className:\"fas fa-paper-plane\"}),\" \",\"發表\"))))),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){var e=this;De().then((function(t){e.setState({userId:t[0].id},(function(){var t,a,n;(t=e.state.draftId,a=e.state.userId,n=\"\".concat(Pe,\"/api/drafts/\").concat(t,\"?userId=\").concat(a),console.log(\"Making GET & selectdraft request to: \".concat(n)),H.a.get(n,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(t){e.setState(wt({},t[0]))}))}))}));var t=document.querySelectorAll(\".dropdown\");t.forEach((function(e){e.addEventListener(\"click\",(function(){this.querySelector(\".drpOptions\").classList.toggle(\"active\")}))}));var a,n=function(e,t){var a;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Ct(e))||t&&e&&\"number\"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var c,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,c=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw c}}}}(t);try{var r=function(){var e=a.value,t=e.querySelector(\".dropdownBtn .chosen\");e.querySelectorAll(\".option\").forEach((function(e){var a=e.querySelector(\".primary\").textContent;e.addEventListener(\"click\",(function(){t.textContent=a}))}))};for(n.s();!(a=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}document.querySelectorAll(\".popup\").forEach((function(e){var t=document.querySelector(e.dataset.target);e.addEventListener(\"click\",(function(){t.classList.add(\"active\")}))})),document.querySelectorAll(\".popupContent\").forEach((function(e){e.querySelector(\".close\").addEventListener(\"click\",(function(){e.classList.remove(\"active\")}))}))}},{key:\"handleCreatePost\",value:function(){var e=this;this.state.userId?ve(wt(wt({},this.state),{},{courseSubnumber:this.state.course_subnumber,courseType:this.state.course_type,teachMethod:this.state.teach_method,teacherCharacter:this.state.teacher_character,taPerformance:this.state.ta_performance,mainReview:this.state.main_review,personalGrade:this.state.personal_grade,classGradeDist:this.state.class_grade_dist})).then((function(t){e.setState({postId:t.id,redirect_to_post:!0},(function(){je(e.state.draftId,{userId:e.state.userId})}))})):alert(\"請先登入\")}},{key:\"handleEditDraft\",value:function(){var e,t,a,n=this;this.state.userId?(e=this.state.draftId,t=wt(wt({},this.state),{},{courseSubnumber:this.state.course_subnumber,courseType:this.state.course_type,teachMethod:this.state.teach_method,teacherCharacter:this.state.teacher_character,taPerformance:this.state.ta_performance,mainReview:this.state.main_review,personalGrade:this.state.personal_grade?this.state.personal_grade:\"X\",classGradeDist:this.state.class_grade_dist}),a=\"\".concat(Pe,\"/api/drafts/\").concat(e),console.log(\"Making PUT & editdraft request to: \".concat(a)),H.a.put(a,t,{withCredentials:!0}).then((function(e){if(200!==e.status)throw new Error(\"Unexpected response code: \".concat(e.status));return e.data}))).then((function(){n.setState({redirect_to_user:!0})})):alert(\"請先登入\")}},{key:\"handleDrowndown\",value:function(){var e=this;K(this.state.semester,this.state.department).then((function(t){e.setState({dropdownlist:t})}))}}])&&kt(t.prototype,a),n&&kt(t,n),l}(r.a.Component);function Rt(e){return(Rt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function At(e,t){var a;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if(\"string\"==typeof e)return Gt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===a&&e.constructor&&(a=e.constructor.name);if(\"Map\"===a||\"Set\"===a)return Array.from(e);if(\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Gt(e,t)}(e))||t&&e&&\"number\"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var c,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,c=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw c}}}}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(a),!0).forEach((function(t){It(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function It(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Tt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Vt(e);if(t){var r=Vt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Wt(this,a)}}function Wt(e,t){return!t||\"object\"!==Rt(t)&&\"function\"!=typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}qt=Object(o.f)(qt);var Xt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(l,e);var t,a,n,c=Ut(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),t=c.call(this,e);var a=e.location.pathname;console.log(e.location.pathname);var n=a.split(\"/\");return t.state={PostId:n[n.length-1],userId:\"\",semester:\"\",department:\"\",course_subnumber:\"\",title:\"\",course_type:\"\",sweet:\"\",cool:\"\",recommend:\"\",info:\"\",prerequisite:\"\",teach_method:\"\",assignment:\"\",exam:\"\",evaluation:\"\",textbook:\"\",teacher_character:\"\",ta_performance:\"\",main_review:\"\",personal_grade:\"X\",class_grade_dist:[0,0,0,0,0,0,0,0,0,0],others:\"\",dropdownlist:[],redirect_to_user:!1,redirect_to_post:!1,postId:\"\"},t.gradelist=[0,0,0,0,0,0,0,0,0,0],t.dropdownRef=null,t.handleDrowndown=t.handleDrowndown.bind(zt(t)),t}return t=l,(a=[{key:\"render\",value:function(){var e,t=this,a=[],n=this.state.dropdownlist;return n.length&&(a=n.map((function(e){return r.a.createElement(\"button\",{type:\"button\",className:\"option\",key:e.department+e.course_subnumber,onClick:function(){t.dropdownRef.textContent=e.department+\" \"+e.course_subnumber+\" \"+e.course_chinese_title,t.setState({courseSubnumber:e.course_subnumber})}},r.a.createElement(\"span\",{className:\"primary\"},e.department,\" \",e.course_subnumber,\" \",e.course_chinese_title),r.a.createElement(\"span\",{className:\"secondary\"},e.teacher?e.teacher.split(\"\\t\")[0]:\"-\"))}))),this.state.redirect_to_user?r.a.createElement(Redirect,{to:\"/userhome\"}):this.state.redirect_to_post?r.a.createElement(Redirect,{to:\"/Post/\".concat(this.state.postId)}):r.a.createElement(\"div\",{className:\"publishPage\"},r.a.createElement(\"section\",{className:\"main\"},r.a.createElement(\"section\",{className:\"publishContent\"},r.a.createElement(\"form\",{className:\"wrapper articleForm\",spellCheck:\"false\"},r.a.createElement(\"h1\",null,\"編輯文章\"),r.a.createElement(\"main\",null,r.a.createElement(\"section\",{className:\"chooseCourse\"},r.a.createElement(\"div\",{className:\"dropdown semesterDrop\"},r.a.createElement(\"button\",{type:\"button\",id:\"semesterDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},this.state.semester?this.state.semester:\"請選擇學期\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10910\",className:\"option\",onClick:function(){t.setState({semester:\"10910\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"109 上\")),r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10820\",className:\"option\",onClick:function(){t.setState({semester:\"10820\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"108 下\")),r.a.createElement(\"button\",{type:\"button\",\"data-semester\":\"10810\",className:\"option\",onClick:function(){t.setState({semester:\"10810\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"108 上\")))),r.a.createElement(\"div\",{className:\"dropdown departmentDrop\"},r.a.createElement(\"button\",{type:\"button\",id:\"departmentDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},this.state.department?this.state.department:\"請選擇科系\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"CS\",className:\"option\",onClick:function(){t.setState({department:\"CS\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"CS 資工系\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"EE\",className:\"option\",onClick:function(){t.setState({department:\"EE\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"EE 電機系\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"EECS\",className:\"option\",onClick:function(){t.setState({department:\"EECS\",course_chinese_title:\"\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"EECS 電資院學士班\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"GE\",className:\"option\",onClick:function(){t.setState({department:\"GE\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"GE 通識\")),r.a.createElement(\"button\",{type:\"button\",\"data-department\":\"GEC\",className:\"option\",onClick:function(){t.setState({department:\"GEC\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"GEC 通識核心\")))),r.a.createElement(\"div\",{className:\"dropdown courseDrop\",onClick:this.handleDrowndown},r.a.createElement(\"button\",{type:\"button\",id:\"departmentDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\",ref:function(e){t.dropdownRef=e}},this.state.course_chinese_title?this.state.department+\" \"+this.state.course_subnumber+\" \"+this.state.course_chinese_title:\"請選擇課程\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},a))),r.a.createElement(\"section\",{className:\"titleSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"心得標題\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 25\")),r.a.createElement(\"input\",{type:\"text\",id:\"titleInput\",required:!0,maxLength:\"25\",placeholder:\"至多 25 字\",value:this.state.title,onChange:function(e){var a=e.target.value;t.setState({title:a})}})),r.a.createElement(\"section\",{className:\"infoSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"課程類別\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 20\")),r.a.createElement(\"input\",{type:\"text\",id:\"courseType\",maxLength:\"20\",placeholder:\"某系必修 ／ 選修 ／ 通識領域 ／ 核通向度\",value:this.state.course_type,onChange:function(e){var a=e.target.value;t.setState({courseType:a})}})),r.a.createElement(\"section\",{className:\"ratingSection\"},r.a.createElement(\"div\",{id:\"ratingPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"參考用評分標準\",\" \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",null,\"甜度: \",r.a.createElement(\"br\",null),\"在有付出一定努力的條件(願意交所有作業、正常出席、有考試)下，可以拿到的等第\",\" \",r.a.createElement(\"br\",null),\"5星:A+~A(87以上) 4星:A~A-(86~80)\",\" \",r.a.createElement(\"br\",null),\"3星:B+~B(79~73) 2星:B-~C-(72~60)\",\" \",r.a.createElement(\"br\",null),\"1星:不及格 \",r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),\"涼度: \",r.a.createElement(\"br\",null),\"以「作業多寡」、「考試需要準備多久」做為考量\",\" \",r.a.createElement(\"br\",null),\"作業多寡:以整學期作業字數加總為準\",\" \",r.a.createElement(\"br\",null),\"5星:1000字以內 4星:1000-3000\",\" \",r.a.createElement(\"br\",null),\"3星:3000-8000 2星:8000-15000\",\" \",r.a.createElement(\"br\",null),\"1星:大於15000 \",r.a.createElement(\"br\",null),\"考試需要準備多久:(以考到80分上下為例)\",\" \",r.a.createElement(\"br\",null),\"5星:幾乎不須準備，僅需前一晚做考古or看筆記\",\" \",r.a.createElement(\"br\",null),\"4星:須考前一個禮拜做準備，但有固定範圍，或考前教授有複習\",\" \",r.a.createElement(\"br\",null),\"3星:須考前1~2個禮拜做準備，但考試會考平時上課內容，僅看ppt成績不夠好看\",\" \",r.a.createElement(\"br\",null),\"2星:許每個禮拜都做準備，否則來不及\",\" \",r.a.createElement(\"br\",null),\"1星:申論題，且教授心境難以揣摩，字數多也不一定高\",\" \",r.a.createElement(\"br\",null),\" \",r.a.createElement(\"br\",null),\"推薦: 5星:完全不後悔修這門課\",\" \",r.a.createElement(\"br\",null),\"4星:若是重來過，還是會修這門課，但有些地方可以表現更好(自我因素)\",\" \",r.a.createElement(\"br\",null),\"3星: \",r.a.createElement(\"br\",null),\"若是重來過，不一定會修這門課，可能是教授給的作業太多，或成績不夠理想\",\" \",r.a.createElement(\"br\",null),\"2星: \",r.a.createElement(\"br\",null),\"若是重來過，不會修這門課，但既然修了就修完吧\",\" \",r.a.createElement(\"br\",null),\"1星: \",r.a.createElement(\"br\",null),\"絕對不修這門課，就算修了也要在二退期間退掉!\",\" \",r.a.createElement(\"br\",null)))),r.a.createElement(\"h2\",null,\"課程評價\",r.a.createElement(\"div\",{className:\"tooltip popup\",\"data-target\":\"#ratingPopup\"},r.a.createElement(\"i\",{className:\"fas fa-question-circle\"}),r.a.createElement(\"div\",{className:\"tooltipBalloon\"},\"參考的評分標準\"))),r.a.createElement(\"div\",{className:\"ratingWrapper\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-candy-cane\"}),\" \",\"甜度\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.sweet,onChange:function(e){var a=e.target.value;t.setState({sweet:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-wind\"}),\" \",\"涼度\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.cool,onChange:function(e){var a=e.target.value;t.setState({cool:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-thumbs-up\"}),\" \",\"推薦\"),r.a.createElement(\"input\",{type:\"text\",inputMode:\"numeric\",required:!0,maxLength:\"3\",pattern:\"\\\\d(\\\\.\\\\d)?\",placeholder:\"例：3.5\",value:this.state.recommend,onChange:function(e){var a=e.target.value;t.setState({recommend:a})}})))),r.a.createElement(\"section\",{className:\"detailedSection\"},r.a.createElement(\"h2\",null,\"課程內容簡述\"),r.a.createElement(\"div\",{className:\"detailedWrapper\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-info-circle\"}),\" \",\"內容綱要\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"簡單描述課程內容\",value:this.state.info,onChange:function(e){var a=e.target.value;t.setState({info:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-backward\"}),\" \",\"先修課程\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",maxLength:\"200\",placeholder:\"擋修或建議先修的課程\",value:this.state.prerequisite,onChange:function(e){var a=e.target.value;t.setState({prerequisite:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-chalkboard-teacher\"}),\" \",\"上課方式\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"例：PPT ／ 版書 ...\",value:this.state.teach_method,onChange:function(e){var a=e.target.value;t.setState({teachMethod:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-pencil-ruler\"}),\" \",\"作業 ＆ 報告\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"作業類型、內容 ／ 個人、小組報告 ...\",value:this.state.assignment,onChange:function(e){var a=e.target.value;t.setState({assignment:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-eraser\"}),\" \",\"考試\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"平時小考 ／ 期中末\",value:this.state.exam,onChange:function(e){var a=e.target.value;t.setState({exam:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-calculator\"}),\" \",\"評分方式\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",placeholder:\"學期成績計算方式：作業、考試所佔比例\",value:this.state.evaluation,onChange:function(e){var a=e.target.value;t.setState({evaluation:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-book\"}),\" \",\"使用課本\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",maxLength:\"200\",placeholder:\"使用哪本課本、是否一定要買\",value:this.state.textbook,onChange:function(e){var a=e.target.value;t.setState({textbook:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-smile\"}),\" \",\"老師個性、風格\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",value:this.state.teacher_character,onChange:function(e){var a=e.target.value;t.setState({teacherCharacter:a})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-hands-helping\"}),\" \",\"助教表現\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 200\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"2\",required:!0,maxLength:\"200\",value:this.state.ta_performance,onChange:function(e){var a=e.target.value;t.setState({taPerformance:a})}})))),r.a.createElement(\"section\",{className:\"reviewSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"個人心得\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 10000\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"10\",maxLength:\"10000\",value:this.state.main_review,onChange:function(e){var a=e.target.value;t.setState({mainReview:a})},required:!0})),r.a.createElement(\"section\",{className:\"gradeSection\"},r.a.createElement(\"h2\",null,\"修課成績\"),r.a.createElement(\"div\",{className:\"gradeWrapper\"},r.a.createElement(\"div\",{className:\"personal\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-user\"}),\" \",\"個人\"),r.a.createElement(\"div\",{className:\"dropdown\"},r.a.createElement(\"button\",{type:\"button\",id:\"gradeDropdown\",className:\"dropdownBtn\"},r.a.createElement(\"span\",{className:\"chosen\"},\"請選擇成績\"),r.a.createElement(\"i\",{className:\"fas fa-caret-down\"})),r.a.createElement(\"div\",{className:\"drpOptions\"},r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"X\",className:\"option\",onClick:function(){t.setState({personalGrade:\"X\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"成績未到\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A+\",className:\"option\",onClick:function(){t.setState({personalGrade:\"A+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A\",className:\"option\",onClick:function(){t.setState({personalGrade:\"A\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"A-\",className:\"option\",onClick:function(){t.setState({personalGrade:\"A-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"A-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B+\",className:\"option\",onClick:function(){t.setState({personalGrade:\"B+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B\",className:\"option\",onClick:function(){t.setState({personalGrade:\"B\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"B-\",className:\"option\",onClick:function(){t.setState({personalGrade:\"B-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"B-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C+\",className:\"option\",onClick:function(){t.setState({personalGrade:\"C+\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C+\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C\",className:\"option\",onClick:function(){t.setState({personalGrade:\"C\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"C-\",className:\"option\",onClick:function(){t.setState({personalGrade:\"C-\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"C-\")),r.a.createElement(\"button\",{type:\"button\",\"data-grade\":\"D\",className:\"option\",onClick:function(){t.setState({personalGrade:\"D\"})}},r.a.createElement(\"span\",{className:\"primary\"},\"D\",String.fromCharCode(8595)))))),r.a.createElement(\"div\",{className:\"total\"},r.a.createElement(\"h3\",null,r.a.createElement(\"i\",{className:\"fas fa-users\"}),\" \",\"全班\"),r.a.createElement(\"div\",{className:\"classGrading\"},r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[0],onChange:function(e){var a=e.target.value;t.gradelist[0]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[1],onChange:function(e){var a=e.target.value;t.gradelist[1]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"A-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[2],onChange:function(e){var a=e.target.value;t.gradelist[2]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[3],onChange:function(e){var a=e.target.value;t.gradelist[3]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[4],onChange:function(e){var a=e.target.value;t.gradelist[4]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"B-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[5],onChange:function(e){var a=e.target.value;t.gradelist[5]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C+\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[6],onChange:function(e){var a=e.target.value;t.gradelist[6]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[7],onChange:function(e){var a=e.target.value;t.gradelist[7]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"C-\"),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[8],onChange:function(e){var a=e.target.value;t.gradelist[8]=Number(a),t.setState({classGradeDist:t.gradelist})}})),r.a.createElement(\"div\",{className:\"item\"},r.a.createElement(\"div\",null,\"D\",String.fromCharCode(8595)),r.a.createElement(\"input\",{type:\"text\",pattern:\"\\\\d*\",value:this.gradelist[9],onChange:function(e){var a=e.target.value;t.gradelist[9]=Number(a),t.setState({classGradeDist:t.gradelist})}})))))),r.a.createElement(\"section\",{className:\"otherSection\"},r.a.createElement(\"div\",{className:\"titleFlexbox\"},r.a.createElement(\"h2\",null,\"其他\"),r.a.createElement(\"div\",null,r.a.createElement(\"span\",{className:\"wordCount\"},\"0\"),\" \",\"/ 2000\")),r.a.createElement(\"textarea\",{name:\"\",id:\"\",cols:\"10\",rows:\"6\",maxLength:\"2000\",value:this.state.others,onChange:function(e){var a=e.target.value;t.setState({others:a})}})),r.a.createElement(\"section\",{className:\"submitSection\"},r.a.createElement(\"button\",(It(e={type:\"button\"},\"type\",\"button\"),It(e,\"onClick\",(function(){t.setState({redirect_to_user:!0})})),e),r.a.createElement(\"i\",{className:\"fas fa-undo-alt\"}),\" \",\"取消編輯\"),r.a.createElement(\"button\",{type:\"submit\",onClick:this.handleCreatePost.bind(this)},r.a.createElement(\"i\",{className:\"fas fa-paper-plane\"}),\" \",\"發表\"))))),r.a.createElement(G,null)))}},{key:\"componentDidMount\",value:function(){var e=this;Ee(this.state.PostId).then((function(t){e.setState(Bt({},t[0]))})),De().then((function(t){e.setState({userId:t[0].id})}));var t=document.querySelectorAll(\".dropdown\");t.forEach((function(e){e.addEventListener(\"click\",(function(){this.querySelector(\".drpOptions\").classList.toggle(\"active\")}))}));var a,n=At(t);try{var r=function(){var e=a.value,t=e.querySelector(\".dropdownBtn .chosen\");e.querySelectorAll(\".option\").forEach((function(e){var a=e.querySelector(\".primary\").textContent;e.addEventListener(\"click\",(function(){t.textContent=a}))}))};for(n.s();!(a=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}document.querySelectorAll(\".popup\").forEach((function(e){var t=document.querySelector(e.dataset.target);e.addEventListener(\"click\",(function(){t.classList.add(\"active\")}))})),document.querySelectorAll(\".popupContent\").forEach((function(e){e.querySelector(\".close\").addEventListener(\"click\",(function(){e.classList.remove(\"active\")}))}))}},{key:\"handleCreatePost\",value:function(){var e=this;this.state.userId?ve(Bt(Bt({},this.state),{},{courseSubnumber:this.state.course_subnumber,courseType:this.state.course_type,teachMethod:this.state.teach_method,teacherCharacter:this.state.teacher_character,taPerformance:this.state.ta_performance,mainReview:this.state.main_review,personalGrade:this.state.personal_grade,classGradeDist:this.state.class_grade_dist})).then((function(t){e.setState({postId:t.id},(function(){e.setState({redirect_to_post:!0})}))})):alert(\"請先登入\")}},{key:\"handleDrowndown\",value:function(){var e=this;K(this.state.semester,this.state.department).then((function(t){e.setState({dropdownlist:t})}))}}])&&Tt(t.prototype,a),n&&Tt(t,n),l}(r.a.Component);function Ht(e){return(Ht=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function $t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Yt(e);if(t){var r=Yt(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Qt(this,a)}}function Qt(e,t){return!t||\"object\"!==Ht(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Xt=Object(o.f)(Xt);var Zt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(l,e);var t,a,n,c=Kt(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,l),(t=c.call(this,e)).state={gravatar_hash:\"\",is_login:!1,userId:\"\"},t}return t=l,(a=[{key:\"render\",value:function(){return r.a.createElement(s.a,null,r.a.createElement(\"header\",null,r.a.createElement(\"nav\",null,r.a.createElement(\"ul\",{id:\"navbar\"},r.a.createElement(\"li\",{className:\"brand\"},r.a.createElement(s.b,{to:\"/\"},\"CoursInfo\")),r.a.createElement(\"li\",{className:\"primary link\"},r.a.createElement(s.b,{to:\"/courses\"},\"課程列表\")),r.a.createElement(\"li\",{className:\"primary link\"},r.a.createElement(s.b,{to:\"/posts\"},\"心得\")),r.a.createElement(\"li\",{className:\"link\"},r.a.createElement(\"a\",{href:\"#\"},\"關於\")),r.a.createElement(\"li\",{className:\"link\"},r.a.createElement(\"a\",{href:\"#\"},\"支援\")),this.state.is_login?r.a.createElement(\"li\",{className:\"rightItem link\"},r.a.createElement(s.b,{to:\"/userhome\"},\"Account\",r.a.createElement(\"img\",{src:\"https://www.gravatar.com/avatar/\".concat(this.state.gravatar_hash,\"?d=identicon&r=g&s=48\")}))):\"\",this.state.is_login?\"\":r.a.createElement(\"li\",{className:\"rightItem link\"},r.a.createElement(\"a\",{className:\"popup\",\"data-target\":\"#loginPopup\",href:\"#\"},\"登入\")),r.a.createElement(\"li\",null,r.a.createElement(\"button\",{id:\"navBtn\",className:\"btnToggle\"},r.a.createElement(\"i\",{className:\"fas fa-bars\"})))))),r.a.createElement(\"div\",{id:\"loginPopup\",className:\"popupContent\"},r.a.createElement(\"div\",{className:\"popupWindow\"},r.a.createElement(\"h3\",null,\"登入 \",r.a.createElement(\"i\",{className:\"close fas fa-times\"})),r.a.createElement(\"div\",{className:\"loginContent\"},r.a.createElement(\"span\",null,\"請使用 NTHU gapp 帳號登入\"),r.a.createElement(\"div\",{className:\"btnGroup\",onClick:function(){document.querySelector(\"#loginPopup\").classList.remove(\"active\")}},r.a.createElement(\"a\",{href:\"https://coursinfonthu.us-east-1.elasticbeanstalk.com/auth/google\"},r.a.createElement(\"i\",{className:\"fab fa-google\"}),\"使用 Google 繼續\"))))),r.a.createElement(o.b,{exact:!0,path:\"/\",render:function(){return r.a.createElement(h,null)}}),r.a.createElement(o.b,{path:\"/courses\",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(o.b,{path:\"/posts\",render:function(){return r.a.createElement(Oe,null)}}),r.a.createElement(o.b,{path:\"/publish\",render:function(){return r.a.createElement(Ve,null)}}),r.a.createElement(o.b,{path:\"/info\",render:function(){return r.a.createElement(ct,null)}}),r.a.createElement(o.b,{path:\"/userpost\",render:function(){return r.a.createElement(pt,null)}}),r.a.createElement(o.b,{path:\"/userhome\",render:function(){return r.a.createElement(bt,null)}}),r.a.createElement(o.b,{path:\"/userdraft\",render:function(){return r.a.createElement(qt,null)}}),r.a.createElement(o.b,{path:\"/editdraft\",render:function(){return r.a.createElement(Xt,null)}}),r.a.createElement(\"footer\",null,\"Copyright © 2020 Skyline and 憶純晃晃. All Rights Reserved.\"))}},{key:\"componentDidMount\",value:function(){this.askid(),document.querySelectorAll(\".popup\").forEach((function(e){var t=document.querySelector(e.dataset.target);e.addEventListener(\"click\",(function(){t.classList.add(\"active\")}))})),document.querySelectorAll(\".popupContent\").forEach((function(e){e.querySelector(\".close\").addEventListener(\"click\",(function(){e.classList.remove(\"active\")}))}))}},{key:\"askid\",value:function(){var e=this;De().then((function(t){e.setState({gravatar_hash:t[0].gravatar_hash,userId:t[0].id},(function(){e.setState({is_login:!!e.state.userId})}))}))}}])&&$t(t.prototype,a),n&&$t(t,n),l}(r.a.Component);window.addEventListener(\"load\",(function(){l.a.render(r.a.createElement(Zt,null),document.getElementById(\"root\"))}))},57:function(e,t,a){\"use strict\";a.r(t);a(55)}});"],"mappings":"AAAA","sourceRoot":""}